# Agent-Friendliness Report: ubs (ultimate_bug_scanner)

**Bead ID**: bd-2uq (re-underwriting)
**Date**: 2026-01-25
**Agent**: Claude Opus 4.5

## Executive Summary

**Status: EXCELLENT AGENT-FRIENDLINESS MATURITY**

ubs is highly optimized for AI coding agent code review:
- Multiple output formats: text, json, jsonl, sarif
- CI mode for stable timestamps
- Baseline comparison for diff scanning
- Comprehensive AGENTS.md documentation (25KB)

## 1. Current State Assessment

### 1.1 Robot Mode Support

| Feature | Status | Details |
|---------|--------|---------|
| `--format` flag | YES | text, json, jsonl, sarif |
| `--ci` flag | YES | CI mode with stable timestamps |
| `--report-json` | YES | Write JSON to file |
| `--beads-jsonl` | YES | JSONL for Beads integration |
| `--html-report` | YES | Shareable HTML output |
| `--comparison` | YES | Baseline diff comparison |
| `--quiet` / `-q` | YES | Reduce console output |

### 1.2 Output Formats

| Format | Description |
|--------|-------------|
| `text` | Human-readable (default) |
| `json` | Structured JSON summary |
| `jsonl` | Newline-delimited JSON streaming |
| `sarif` | SARIF 2.1 standard format |

### 1.3 Key Commands

| Command | Purpose |
|---------|---------|
| `ubs .` | Scan current directory |
| `ubs doctor` | Diagnose installation issues |
| `ubs sessions` | Show recent scan sessions |
| `ubs --staged` | Scan staged files only |
| `ubs --diff` | Scan modified files only |

### 1.4 CI/Automation Features

- `--ci`: Stable timestamps for reproducibility
- `--fail-on-warning`: Non-zero exit on issues
- `--comparison`: Diff against baseline
- `--jsonl-summary-only`: Emit only counts
- `--jobs=N`: Parallelism hint

## 2. Documentation Assessment

### 2.1 AGENTS.md

**Status**: EXISTS and comprehensive (25KB)

Contains:
- Rule 1: Absolute file deletion protection
- Bash toolchain guidelines
- SARIF schema compliance
- Module system documentation
- Scanner integration patterns

### 2.2 Additional Documentation

- README.md: Comprehensive user guide
- `ubs doctor`: Self-diagnosis command
- Environment variables documented in help

## 3. Scorecard

| Dimension | Score (1-5) | Notes |
|-----------|-------------|-------|
| Documentation | 5 | Comprehensive AGENTS.md |
| CLI Ergonomics | 5 | Rich flag structure |
| Robot Mode | 5 | Multiple formats + SARIF |
| Error Handling | 4 | Exit codes documented |
| Consistency | 5 | Standard SARIF compliance |
| Zero-shot Usability | 5 | doctor + sessions commands |
| **Overall** | **4.8** | Excellent maturity |

## 4. TOON Integration Status

**Status: NOT YET IMPLEMENTED**

May add TOON as additional format option for token-efficient agent output.

## 5. Recommendations

### 5.1 High Priority (P1)

None - ubs is already highly agent-friendly

### 5.2 Medium Priority (P2)

1. Add TOON format option (`--format=toon`)
2. Add `UBS_OUTPUT_FORMAT` environment variable

### 5.3 Low Priority (P3)

1. Add schema export option
2. Document SARIF tooling integration

## 6. Agent Usage Patterns

### Basic Scan with JSON
```bash
ubs . --format=json
```

### Streaming JSONL Output
```bash
ubs . --format=jsonl
```

### SARIF for Tool Integration
```bash
ubs . --format=sarif --report-json=findings.sarif
```

### Staged Files Only (Pre-commit)
```bash
ubs --staged --format=json
```

### Diff Against Baseline
```bash
ubs . --comparison=baseline.json --format=json
```

### CI Mode
```bash
ubs . --ci --fail-on-warning --format=json
```

## 7. Unique Agent-Friendly Features

1. **SARIF Compliance**: Industry-standard static analysis format
2. **Baseline Comparison**: Only report new issues
3. **Staged/Diff Modes**: Pre-commit integration
4. **Category Packs**: Focus scans on specific areas
5. **Sessions**: Review recent scan history

## 8. Conclusion

ubs demonstrates excellent agent-friendliness with:
- Multiple output formats including SARIF
- CI/automation-focused features
- Baseline comparison for incremental scanning
- Comprehensive documentation

Score: **4.8/5** - Excellent maturity.

---
*Generated by Claude Opus 4.5 during agent-friendly re-underwriting*
