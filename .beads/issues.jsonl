{"id":"ultimate_bug_scanner-09v","title":"Secure module updates","description":"Add module checksum verification \u0026 ubs doctor per user request","notes":"Module cache verification + doctor command implemented","status":"closed","priority":1,"issue_type":"feature","assignee":"Codex","created_at":"2025-11-18T00:18:43.17976942Z","updated_at":"2025-11-18T00:32:26.689187111Z","closed_at":"2025-11-18T00:32:26.689196311Z"}
{"id":"ultimate_bug_scanner-0by","title":"Deep audit of module shell scripts","description":"Audit modules/*.sh for race conditions (trap placement), secure temp file usage, and logic errors.","status":"closed","priority":2,"issue_type":"task","assignee":"cursor_agent","created_at":"2025-11-18T19:45:00.467681305Z","updated_at":"2025-11-19T04:46:01.970679438Z","closed_at":"2025-11-19T04:46:01.970679438Z"}
{"id":"ultimate_bug_scanner-0j6","title":"Audit installer scripts","description":"Verify install.sh + docs run cleanly: test supported shells, ensure dependency install, validate uv/ubs integration, add self-tests.","status":"closed","priority":2,"issue_type":"task","assignee":"Codex","created_at":"2025-11-17T17:17:25.827184989Z","updated_at":"2025-11-17T18:23:12.235865553Z","closed_at":"2025-11-17T18:23:12.235865553Z"}
{"id":"ultimate_bug_scanner-10","title":"Enable python fixtures in manifest","description":"Stabilize modules/ubs-python output, add buggy/clean cases to test-suite/manifest.json, and flip enabled once thresholds behave.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T22:31:46.004857441Z","updated_at":"2025-11-16T22:58:47.949763135Z","closed_at":"2025-11-16T22:58:47.949763135Z"}
{"id":"ultimate_bug_scanner-11","title":"Complete install.sh Enhancement - All Improvements","description":"Implement all install.sh improvements including cross-platform support, robust dependency management, comprehensive verification, uninstall support, CI/CD templates, and advanced features","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-16T22:34:32.520783667Z","updated_at":"2025-11-16T22:44:12.223475039Z","closed_at":"2025-11-16T22:44:12.223475039Z"}
{"id":"ultimate_bug_scanner-12","title":"Tier 1: High-Impact Low-Effort Features","description":"Quick wins: Version checking, post-install verification, binary fallbacks, WSL detection, diagnostic mode","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-11-16T22:34:58.7712871Z","updated_at":"2025-11-16T22:38:55.603801114Z","closed_at":"2025-11-16T22:38:55.603801114Z","dependencies":[{"issue_id":"ultimate_bug_scanner-12","depends_on_id":"ultimate_bug_scanner-11","type":"parent-child","created_at":"2025-11-16T22:34:58.818166077Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-13","title":"Implement version checking and self-update","description":"Add --update flag, check remote VERSION file, auto-update capability","status":"closed","priority":0,"issue_type":"feature","assignee":"claude","created_at":"2025-11-16T22:34:58.8560365Z","updated_at":"2025-11-16T22:38:55.392475379Z","closed_at":"2025-11-16T22:38:55.392475379Z","dependencies":[{"issue_id":"ultimate_bug_scanner-13","depends_on_id":"ultimate_bug_scanner-12","type":"parent-child","created_at":"2025-11-16T22:34:58.902691276Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-14","title":"Add comprehensive post-install verification","description":"Verify ubs command, test dependencies, run smoke tests, check hooks, validate module cache","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-16T22:34:58.972950686Z","updated_at":"2025-11-16T22:38:55.439954356Z","closed_at":"2025-11-16T22:38:55.439954356Z","dependencies":[{"issue_id":"ultimate_bug_scanner-14","depends_on_id":"ultimate_bug_scanner-12","type":"parent-child","created_at":"2025-11-16T22:34:59.048896822Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-15","title":"Implement binary fallback downloads","description":"Download ripgrep/ast-grep/jq binaries from GitHub releases when package managers fail","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-16T22:34:59.112878289Z","updated_at":"2025-11-16T22:38:55.472402646Z","closed_at":"2025-11-16T22:38:55.472402646Z","dependencies":[{"issue_id":"ultimate_bug_scanner-15","depends_on_id":"ultimate_bug_scanner-12","type":"parent-child","created_at":"2025-11-16T22:34:59.17567055Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-16","title":"Add WSL detection and optimization","description":"Detect WSL environment, handle Windows/Linux hybrid paths, optimize for WSL users","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-16T22:34:59.229044256Z","updated_at":"2025-11-16T22:38:55.507270549Z","closed_at":"2025-11-16T22:38:55.507270549Z","dependencies":[{"issue_id":"ultimate_bug_scanner-16","depends_on_id":"ultimate_bug_scanner-12","type":"parent-child","created_at":"2025-11-16T22:34:59.263699555Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-17","title":"Implement FreeBSD/OpenBSD support","description":"Add BSD platform detection, pkg/pkg_add support, BSD-specific optimizations","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-16T22:34:59.295221836Z","updated_at":"2025-11-16T22:38:55.545704174Z","closed_at":"2025-11-16T22:38:55.545704174Z","dependencies":[{"issue_id":"ultimate_bug_scanner-17","depends_on_id":"ultimate_bug_scanner-12","type":"parent-child","created_at":"2025-11-16T22:34:59.328708828Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-18","title":"Tier 2: Medium-Impact Medium-Effort Features","description":"Configuration file support, diagnostic mode, uninstall, more AI tool integration","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-16T22:34:59.362473022Z","updated_at":"2025-11-16T22:42:09.129218374Z","closed_at":"2025-11-16T22:42:09.129218374Z","dependencies":[{"issue_id":"ultimate_bug_scanner-18","depends_on_id":"ultimate_bug_scanner-11","type":"parent-child","created_at":"2025-11-16T22:34:59.402499852Z","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-18","depends_on_id":"ultimate_bug_scanner-12","type":"blocks","created_at":"2025-11-16T22:34:59.436404347Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-19","title":"Add configuration file support","description":"Read ~/.config/ubs/install.conf for default settings, --generate-config flag","status":"closed","priority":1,"issue_type":"feature","assignee":"claude","created_at":"2025-11-16T22:34:59.468252529Z","updated_at":"2025-11-16T22:42:08.831746178Z","closed_at":"2025-11-16T22:42:08.831746178Z","dependencies":[{"issue_id":"ultimate_bug_scanner-19","depends_on_id":"ultimate_bug_scanner-18","type":"parent-child","created_at":"2025-11-16T22:34:59.500614215Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-1de","title":"Add release workflow + security docs","description":"Implement release CI workflow for tags (build/sign artifacts, OCI, Homebrew, nix check, SBOM) and author docs/release.md and docs/security.md referenced from README","notes":"Release workflow + security docs implemented","status":"closed","priority":2,"issue_type":"task","assignee":"codex","created_at":"2025-11-22T00:12:42.761937012Z","updated_at":"2025-11-22T00:36:01.291077499Z","closed_at":"2025-11-22T00:36:01.291091998Z"}
{"id":"ultimate_bug_scanner-1nr","title":"Shareable Reports","description":"HTML diff previews, SARIF run comparison metadata, GitHub permalinks, comparison CLI flag","status":"in_progress","priority":1,"issue_type":"feature","assignee":"Codex","created_at":"2025-11-18T01:14:43.880905419Z","updated_at":"2025-11-18T01:14:57.031055524Z"}
{"id":"ultimate_bug_scanner-1x3","title":"Add substring/rule-id assertions to manifest runner","description":"Extend run_manifest.py + manifest cases to require key substrings or rule IDs so we prove categories fire; update TODO accordingly.","status":"closed","priority":2,"issue_type":"task","assignee":"codex","created_at":"2025-11-16T22:25:30.886296665Z","updated_at":"2025-11-16T22:53:16.746447582Z","closed_at":"2025-11-16T22:53:16.746447582Z"}
{"id":"ultimate_bug_scanner-20","title":"Implement diagnostic mode","description":"Add --diagnose flag: system info, UBS status, dependencies, PATH analysis, hooks, network test","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-16T22:34:59.538606933Z","updated_at":"2025-11-16T22:42:09.002432094Z","closed_at":"2025-11-16T22:42:09.002432094Z","dependencies":[{"issue_id":"ultimate_bug_scanner-20","depends_on_id":"ultimate_bug_scanner-18","type":"parent-child","created_at":"2025-11-16T22:34:59.579986071Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-21","title":"Add clean uninstall support","description":"Implement --uninstall flag: remove binary, clean PATH, remove hooks, delete cache","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-16T22:34:59.614519669Z","updated_at":"2025-11-16T22:42:09.057115887Z","closed_at":"2025-11-16T22:42:09.057115887Z","dependencies":[{"issue_id":"ultimate_bug_scanner-21","depends_on_id":"ultimate_bug_scanner-18","type":"parent-child","created_at":"2025-11-16T22:34:59.647211457Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-22","title":"Expand AI tool integration","description":"Add support for Aider, Continue, GitHub Copilot, Tabnine, Replit","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-16T22:34:59.690649806Z","updated_at":"2025-11-16T22:42:09.090521966Z","closed_at":"2025-11-16T22:42:09.090521966Z","dependencies":[{"issue_id":"ultimate_bug_scanner-22","depends_on_id":"ultimate_bug_scanner-18","type":"parent-child","created_at":"2025-11-16T22:34:59.736158167Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-23","title":"Tier 3: Advanced Features","description":"Docker support, CI/CD templates, checksum verification, PowerShell installer","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-11-16T22:34:59.773100379Z","updated_at":"2025-11-17T20:59:47.584725892Z","closed_at":"2025-11-17T20:59:47.584725892Z","dependencies":[{"issue_id":"ultimate_bug_scanner-23","depends_on_id":"ultimate_bug_scanner-11","type":"parent-child","created_at":"2025-11-16T22:34:59.811599701Z","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-23","depends_on_id":"ultimate_bug_scanner-18","type":"blocks","created_at":"2025-11-16T22:34:59.846564701Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-24","title":"Add Docker support","description":"Generate Dockerfile, --generate-dockerfile flag, containerized UBS","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-16T22:34:59.878209283Z","updated_at":"2025-11-17T20:59:46.706326906Z","closed_at":"2025-11-17T20:59:46.706326906Z","dependencies":[{"issue_id":"ultimate_bug_scanner-24","depends_on_id":"ultimate_bug_scanner-23","type":"parent-child","created_at":"2025-11-16T22:34:59.913540886Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-25","title":"Implement CI/CD template generation","description":"Generate configs for GitHub Actions, GitLab CI, CircleCI with --generate-ci flag","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-16T22:34:59.948676087Z","updated_at":"2025-11-17T20:59:45.876905993Z","closed_at":"2025-11-17T20:59:45.876905993Z","dependencies":[{"issue_id":"ultimate_bug_scanner-25","depends_on_id":"ultimate_bug_scanner-23","type":"parent-child","created_at":"2025-11-16T22:34:59.985052796Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-26","title":"Add checksum verification","description":"Verify SHA256 checksums for downloaded binaries, prevent tampering","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-16T22:35:00.029461351Z","updated_at":"2025-11-17T20:59:45.013830824Z","closed_at":"2025-11-17T20:59:45.013830824Z","dependencies":[{"issue_id":"ultimate_bug_scanner-26","depends_on_id":"ultimate_bug_scanner-23","type":"parent-child","created_at":"2025-11-16T22:35:00.068071073Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-26z","title":"Bug: VERSION file out of sync with ubs/README","description":"VERSION is 4.6.5 but ubs (UBS_VERSION) and README advertise 5.0.0. This breaks install.sh banner and verify.sh default release version selection.","status":"tombstone","priority":1,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-17T18:09:06.826209-05:00","updated_at":"2025-12-17T18:12:35.404523-05:00","close_reason":"Updated VERSION to 5.0.0 to match ubs/README and verify.sh default.","dependencies":[{"issue_id":"ultimate_bug_scanner-26z","depends_on_id":"ultimate_bug_scanner-abc","type":"discovered-from","created_at":"2025-12-17T18:09:10.798309-05:00","created_by":"daemon"}],"deleted_at":"2025-12-17T18:12:35.404523-05:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"bug"}
{"id":"ultimate_bug_scanner-27","title":"Create UX polish features","description":"Progress bars, spinners, estimated time, contextual help","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-16T22:35:00.10233857Z","updated_at":"2025-11-17T20:59:44.128328484Z","closed_at":"2025-11-17T20:59:44.128328484Z","dependencies":[{"issue_id":"ultimate_bug_scanner-27","depends_on_id":"ultimate_bug_scanner-23","type":"parent-child","created_at":"2025-11-16T22:35:00.140458088Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-28","title":"Implement version checking and self-update","description":"Add --update flag, check remote VERSION file, auto-update capability","status":"closed","priority":0,"issue_type":"feature","assignee":"claude","created_at":"2025-11-16T22:38:55.52967868Z","updated_at":"2025-11-17T20:59:26.435870413Z","closed_at":"2025-11-17T20:59:26.435870413Z"}
{"id":"ultimate_bug_scanner-29","title":"Add comprehensive post-install verification","description":"Verify ubs command, test dependencies, run smoke tests, check hooks, validate module cache","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-16T22:38:55.556705938Z","updated_at":"2025-11-16T22:46:54.259450893Z","closed_at":"2025-11-16T22:46:54.259450893Z"}
{"id":"ultimate_bug_scanner-2eb","title":"Add daily auto-update prompt and configuration to installer","description":"The installer should prompt the user if they want to enable daily auto-updates. If confirmed, it should set up a mechanism (e.g., cron) to run 'ubs --update' or similar daily.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-19T17:20:20.351807102Z","updated_at":"2025-11-19T17:27:42.465051459Z","closed_at":"2025-11-19T17:27:42.465057859Z"}
{"id":"ultimate_bug_scanner-30","title":"Implement binary fallback downloads","description":"Download ripgrep/ast-grep/jq binaries from GitHub releases when package managers fail","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-11-16T22:38:55.611283057Z","updated_at":"2025-11-16T22:46:55.182930413Z","closed_at":"2025-11-16T22:46:55.182930413Z"}
{"id":"ultimate_bug_scanner-31","title":"Implement diagnostic mode","description":"Add --diagnose flag: system info, UBS status, dependencies, PATH analysis, hooks, network test","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-16T22:42:09.151331793Z","updated_at":"2025-11-16T22:46:56.837340044Z","closed_at":"2025-11-16T22:46:56.837340044Z"}
{"id":"ultimate_bug_scanner-32","title":"Add clean uninstall support","description":"Implement --uninstall flag: remove binary, clean PATH, remove hooks, delete cache","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-16T22:42:09.174867819Z","updated_at":"2025-11-16T22:46:57.888404499Z","closed_at":"2025-11-16T22:46:57.888404499Z"}
{"id":"ultimate_bug_scanner-33","title":"Expand AI tool integration","description":"Add support for Aider, Continue, GitHub Copilot, Tabnine, Replit","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-16T22:42:09.191634509Z","updated_at":"2025-11-16T22:46:58.826926005Z","closed_at":"2025-11-16T22:46:58.826926005Z"}
{"id":"ultimate_bug_scanner-34","title":"Add clean uninstall support","description":"Implement --uninstall flag: remove binary, clean PATH, remove hooks, delete cache","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-16T22:46:57.951880064Z","updated_at":"2025-11-16T22:47:19.592839816Z","closed_at":"2025-11-16T22:47:19.592839816Z"}
{"id":"ultimate_bug_scanner-3nn","title":"swift: show resource_lifecycle_swift helper failures","description":"modules/ubs-swift.sh runs helpers/resource_lifecycle_swift.py with stderr redirected to /dev/null, but on helper failure it prints a finding that says 'See stderr for details' (impossible). Fix by capturing stderr to a temp file and surfacing a short preview in the finding (or otherwise making messaging truthful).","status":"closed","priority":2,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-18T01:48:35.033755-05:00","updated_at":"2025-12-18T02:11:44.926856-05:00","closed_at":"2025-12-18T02:11:44.926856-05:00","close_reason":"Surface swift helper stderr on failure","dependencies":[{"issue_id":"ultimate_bug_scanner-3nn","depends_on_id":"ultimate_bug_scanner-4sm","type":"parent-child","created_at":"2025-12-18T01:48:38.667065-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-3nn","depends_on_id":"ultimate_bug_scanner-abc","type":"discovered-from","created_at":"2025-12-18T01:48:43.438264-05:00","created_by":"daemon"}],"comments":[{"id":1,"issue_id":"ultimate_bug_scanner-3nn","author":"jemanuel","text":"Fixed: capture resource_lifecycle_swift.py stderr to a temp file and surface 1-line preview on helper failure (no more '/dev/null' + 'See stderr').\\n\\nValidation: bash -n modules/ubs-swift.sh; ran ./modules/ubs-swift.sh --ci --no-color test-suite/swift/type_narrowing/buggy.","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-3xr","title":"Bug: install.sh cron auto-update uses unsupported ubs flags","description":"install.sh schedules daily auto-updates via cron using: ubs --update --quiet --non-interactive. The ubs runner does not support --update or --non-interactive, so the cron job fails immediately.","status":"tombstone","priority":1,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-17T17:58:03.857437-05:00","updated_at":"2025-12-17T18:07:15.987402-05:00","close_reason":"Fixed: ubs now supports --update/--non-interactive used by installer cron; updated SHA256SUMS; tests + ubs scan clean.","dependencies":[{"issue_id":"ultimate_bug_scanner-3xr","depends_on_id":"ultimate_bug_scanner-abc","type":"discovered-from","created_at":"2025-12-17T17:58:08.533825-05:00","created_by":"daemon"}],"deleted_at":"2025-12-17T18:07:15.987402-05:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"bug"}
{"id":"ultimate_bug_scanner-41t","title":"Python resource helper","description":"Add lightweight Python AST helper (similar to type_narrowing) to reason about with/async with, alias imports, and .close() calls","status":"closed","priority":2,"issue_type":"feature","assignee":"Codex","created_at":"2025-11-18T02:28:36.766402761Z","updated_at":"2025-11-18T07:50:37.604925228Z","closed_at":"2025-11-18T07:50:37.604925228Z"}
{"id":"ultimate_bug_scanner-46h","title":"Type narrowing fixtures + manifest","description":"Add TypeScript buggy/clean fixtures under test-suite/typescript/, wire cases into manifest.json, and extend README/test-suite docs with expected counts for new category.","status":"in_progress","priority":2,"issue_type":"task","assignee":"Codex","created_at":"2025-11-17T21:00:57.767841495Z","updated_at":"2025-11-17T21:05:00.938940116Z","dependencies":[{"issue_id":"ultimate_bug_scanner-46h","depends_on_id":"ultimate_bug_scanner-b7e","type":"parent-child","created_at":"2025-11-17T21:01:03.997881575Z","created_by":"ubuntu"}]}
{"id":"ultimate_bug_scanner-49v","title":"Investigate ast-grep scan failure","description":"The ubs scan reports that ast-grep scan subcommand is unavailable, but the binary supports it. Need to debug why the command invocation in the scripts is failing (likely due to stderr suppression hiding the error).","status":"closed","priority":2,"issue_type":"bug","assignee":"codex","created_at":"2025-11-18T19:53:00.671778334Z","updated_at":"2025-11-22T08:50:13.756133438Z","closed_at":"2025-11-22T08:50:13.756133438Z"}
{"id":"ultimate_bug_scanner-4jg","title":"Feature #4: Lightweight taint analysis","description":"Implement PLAN Feature #4 starting with JS module, fixtures, manifest, docs, TODO.","status":"closed","priority":1,"issue_type":"feature","assignee":"codex","created_at":"2025-11-17T03:15:38.887020244Z","updated_at":"2025-11-17T20:59:37.081963973Z","closed_at":"2025-11-17T20:59:37.081963973Z"}
{"id":"ultimate_bug_scanner-4ni","title":"Enable python fixtures in manifest","description":"Stabilize modules/ubs-python output, add buggy/clean cases to test-suite/manifest.json, and flip enabled once thresholds behave.","status":"closed","priority":2,"issue_type":"task","assignee":"codex","created_at":"2025-11-16T22:25:35.478452314Z","updated_at":"2025-11-16T22:37:21.984923912Z","closed_at":"2025-11-16T22:37:21.984923912Z"}
{"id":"ultimate_bug_scanner-4oy","title":"System-wide bug scan and diagnosis","description":"Scan the system for serious bugs, problems, errors, mistakes, logical errors, etc. and fix root causes.","status":"closed","priority":1,"issue_type":"task","assignee":"user","created_at":"2025-11-18T19:26:43.924863545Z","updated_at":"2025-11-18T19:33:32.860249074Z","closed_at":"2025-11-18T19:33:32.860249074Z"}
{"id":"ultimate_bug_scanner-4se","title":"Type Narrowing Full Coverage","description":"Extend narrowing beyond TS/Rust: finalize Kotlin smart-casts, Swift guard-let heuristics, optional ObjC bridging, manifest/docs updates, CLI skip flag flows, and readiness diagnostics.","status":"closed","priority":1,"issue_type":"feature","assignee":"Codex","created_at":"2025-11-18T01:28:38.200796814Z","updated_at":"2025-12-29T00:05:20.686648994-05:00","closed_at":"2025-12-17T01:25:06.275856-05:00"}
{"id":"ultimate_bug_scanner-4sm","title":"Resource Lifecycle Packs","description":"Python context-manager symmetry, Go defer pairing, Java try-with-resources, CLI toggle, manifest coverage","status":"in_progress","priority":1,"issue_type":"feature","assignee":"Codex","created_at":"2025-11-18T01:14:37.427481402Z","updated_at":"2025-11-18T01:14:50.029746497Z"}
{"id":"ultimate_bug_scanner-4vs","title":"Improve README formatting and layout","description":"Reorder sections to put Quick Install and Basic Usage at the top, demote internal tooling info, and use GitHub Alerts for better visibility. No ToC.","status":"closed","priority":3,"issue_type":"task","assignee":"user","created_at":"2025-11-19T17:26:18.559281002Z","updated_at":"2025-11-19T17:30:17.042489157Z","closed_at":"2025-11-19T17:30:17.042489157Z"}
{"id":"ultimate_bug_scanner-5c9","title":"golang: show resource_lifecycle_go helper failures","description":"modules/ubs-golang.sh runs helpers/resource_lifecycle_go.go with stderr redirected to /dev/null, but on failure it prints a finding that says 'See stderr for details' (impossible). Fix by capturing stderr to a temp file and surfacing a short preview in the finding (or otherwise making messaging truthful).","status":"closed","priority":2,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-18T01:48:21.489088-05:00","updated_at":"2025-12-18T02:11:44.754892-05:00","closed_at":"2025-12-18T02:11:44.754892-05:00","close_reason":"Surface go helper stderr on failure","dependencies":[{"issue_id":"ultimate_bug_scanner-5c9","depends_on_id":"ultimate_bug_scanner-4sm","type":"parent-child","created_at":"2025-12-18T01:48:26.707932-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-5c9","depends_on_id":"ultimate_bug_scanner-abc","type":"discovered-from","created_at":"2025-12-18T01:48:29.752592-05:00","created_by":"daemon"}],"comments":[{"id":2,"issue_id":"ultimate_bug_scanner-5c9","author":"jemanuel","text":"Fixed: capture go helper stderr (mktemp) and show 1-line preview instead of misleading 'See stderr for details'.\\n\\nValidation: bash -n modules/ubs-golang.sh; ran ./modules/ubs-golang.sh --ci --no-color test-suite/golang/buggy.","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-5qo","title":"Fix suppression/permalink parsing for Windows paths","description":"apply_inline_suppressions + print_with_permalinks regex ignores drive-letter paths (C:\\...) and paths with spaces, so inline suppression/permalinks break on Windows.","status":"closed","priority":1,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-18T17:12:41.210852-05:00","updated_at":"2025-12-18T17:13:00.213243-05:00","closed_at":"2025-12-18T17:13:00.213243-05:00","close_reason":"Fixed in working tree","dependencies":[{"issue_id":"ultimate_bug_scanner-5qo","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"discovered-from","created_at":"2025-12-18T17:12:52.214267-05:00","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-5wx","title":"Go lifecycle AST pack","description":"Replace regex-based defer/Close heuristics with ast-grep rules in modules/ubs-golang.sh (mutex, os.Open, sql.Open, context)","status":"closed","priority":1,"issue_type":"feature","assignee":"Codex","created_at":"2025-11-18T02:28:17.311177653Z","updated_at":"2025-11-18T03:33:15.301038773Z","closed_at":"2025-11-18T03:33:15.301038773Z"}
{"id":"ultimate_bug_scanner-5y3","title":"Bug: install.sh master checksum verify requires sha256sum","description":"install.sh downloads ubs from GitHub master and verifies it against master SHA256SUMS using sha256sum, but many macOS machines lack sha256sum (have shasum/openssl). This makes default installs fail under RUN_VERIFICATION=1.","status":"tombstone","priority":1,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-17T18:07:15.988769-05:00","updated_at":"2025-12-17T18:12:35.409272-05:00","close_reason":"Use portable compute_sha256() for master checksum verification (sha256sum/shasum/openssl).","dependencies":[{"issue_id":"ultimate_bug_scanner-5y3","depends_on_id":"ultimate_bug_scanner-abc","type":"discovered-from","created_at":"2025-12-17T18:07:20.970409-05:00","created_by":"daemon"}],"deleted_at":"2025-12-17T18:12:35.409272-05:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"bug"}
{"id":"ultimate_bug_scanner-6hy","title":"Add MCP Agent Mail section to README","description":"Add a cross-promotion section for MCP Agent Mail at the bottom of the README, highlighting synergy with UBS.","status":"closed","priority":3,"issue_type":"task","assignee":"user","created_at":"2025-11-19T17:46:24.085341851Z","updated_at":"2025-11-19T17:56:28.792433806Z","closed_at":"2025-11-19T17:56:28.792441906Z"}
{"id":"ultimate_bug_scanner-6ig","title":"Fix resource lifecycle manifest cases","description":"python/go/java resource_lifecycle fixtures currently report zero warnings because modules/ubs-*.sh count zero files; manifest now fails. Investigate per language (likely include/exclude bug) and restore warnings so --fail-on-warning trips.","status":"closed","priority":2,"issue_type":"bug","assignee":"codex","created_at":"2025-11-16T23:11:40.795101264Z","updated_at":"2025-11-17T03:17:16.461312078Z","closed_at":"2025-11-17T03:17:16.461312078Z"}
{"id":"ultimate_bug_scanner-6jz","title":"Skip JS type-narrowing helper when no TS/TSX inputs","description":"run_type_narrowing_checks runs even when scan excludes TS/TSX or no .ts/.tsx files exist, producing irrelevant 'TypeScript compiler not detected' info. Gate on ext + presence of TS files; helper should also silence when no TS inputs.","status":"closed","priority":2,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-18T17:12:47.812567-05:00","updated_at":"2025-12-18T17:13:11.113185-05:00","closed_at":"2025-12-18T17:13:11.113185-05:00","close_reason":"Fixed in working tree","dependencies":[{"issue_id":"ultimate_bug_scanner-6jz","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"discovered-from","created_at":"2025-12-18T17:12:56.608027-05:00","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-6q2","title":"Installer should rerun after checksum auto-fix","description":"If installer's post-install doctor detects checksum issues and auto-fixes them, rerun the installer flow once automatically to ensure hooks and checks complete cleanly.","notes":"Piped curl|bash rerun now re-execs installer file or downloads fresh copy; tested and pushed in 29fb76f.","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2025-11-24T00:08:25.127475606Z","updated_at":"2025-11-24T00:14:52.317941179Z","closed_at":"2025-11-24T00:14:52.317941179Z"}
{"id":"ultimate_bug_scanner-6q3","title":"Improve Java resource lifecycle regex scope","description":"Update modules/helpers/resource_lifecycle_java.py to use start_pos in has_close() to reduce false positives from previous methods.","status":"closed","priority":2,"issue_type":"task","assignee":"AI Agent","created_at":"2025-11-19T05:21:47.322762236Z","updated_at":"2025-11-19T05:39:33.328502854Z","closed_at":"2025-11-19T05:39:33.328502854Z"}
{"id":"ultimate_bug_scanner-6x4","title":"Java lifecycle AST coverage","description":"Turn modules/ubs-java.sh resource heuristics (try-with-resources, executor shutdown, JDBC close) into ast-grep rules","status":"closed","priority":1,"issue_type":"feature","assignee":"Codex","created_at":"2025-11-18T02:28:27.294887174Z","updated_at":"2025-11-18T07:50:25.757077943Z","closed_at":"2025-11-18T07:50:25.757077943Z"}
{"id":"ultimate_bug_scanner-7g7","title":"Universal AST adoption","description":"Plan+track migrating every language module away from regex-only checks to ast-grep/semantic analyzers (includes C++/Rust/Ruby bringing in ast-grep support)","status":"closed","priority":1,"issue_type":"epic","assignee":"Codex","created_at":"2025-11-18T02:28:46.200184963Z","updated_at":"2025-11-18T07:50:46.592742229Z","closed_at":"2025-11-18T07:50:46.592742229Z"}
{"id":"ultimate_bug_scanner-8d7","title":"Cross-language type narrowing heuristics","description":"Prototype Kotlin/Rust narrowing checks (e.g., match/when fallthrough, unwrap-after-if-let) via ast-grep rules. Ship as optional rules that reuse the new reporting category.","status":"in_progress","priority":3,"issue_type":"task","assignee":"Codex","created_at":"2025-11-17T21:01:31.511450294Z","updated_at":"2025-11-17T21:05:26.924480139Z","dependencies":[{"issue_id":"ultimate_bug_scanner-8d7","depends_on_id":"ultimate_bug_scanner-b7e","type":"parent-child","created_at":"2025-11-17T21:01:39.17487296Z","created_by":"ubuntu"}]}
{"id":"ultimate_bug_scanner-8vc","title":"UBS CLI UX improvements: --version, JSONL output, Beads export helper","description":"Implement --version flag, add --jsonl output format with stable schema, provide opt-in Beads export hook/helper, tidy ignore suggestions.","status":"closed","priority":3,"issue_type":"task","assignee":"codex","created_at":"2025-11-22T08:58:46.312778304Z","updated_at":"2025-11-22T09:13:29.525081787Z","closed_at":"2025-11-22T09:13:29.525081787Z"}
{"id":"ultimate_bug_scanner-8zv","title":"Installer audit follow-up","description":"Extend dry-run + logging to all installer code paths, finish locking/cleanup helpers, add --self-test flag + stale-binary warning, rerun install smoke tests, and update docs + TODOs while verifying installer scripts.","notes":"Implemented full dry-run coverage (all installers/hooks/docs), added --self-test harness + stale-binary warning, and refreshed README/INSTALL notes; remaining follow-ups: document AST-grep-first testing guidance + audit any remaining manual lock usage.","status":"closed","priority":1,"issue_type":"task","assignee":"Codex","created_at":"2025-11-17T19:10:44.506189813Z","updated_at":"2025-11-17T20:59:35.352547324Z","closed_at":"2025-11-17T20:59:35.352547324Z"}
{"id":"ultimate_bug_scanner-91x","title":"Fix regex boundaries in JS type narrowing fallback","description":"The fallback regex analysis in modules/helpers/type_narrowing_ts.js lacks word boundaries, leading to false positives/negatives when variable names are substrings of others.","status":"closed","priority":2,"issue_type":"bug","assignee":"AI Agent","created_at":"2025-11-19T04:47:53.694429781Z","updated_at":"2025-11-19T04:48:58.32273213Z","closed_at":"2025-11-19T04:48:58.32273213Z"}
{"id":"ultimate_bug_scanner-9dk","title":"Triage UBS findings in repo root","description":"Root scan ('./ubs --ci .') reports 172 critical / 1096 warning / 1614 info issues; need to categorize by language/module and fix incrementally.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T22:28:47.872500186Z","updated_at":"2025-11-17T20:59:42.334559431Z","closed_at":"2025-11-17T20:59:42.334559431Z"}
{"id":"ultimate_bug_scanner-9p1","title":"Fix README install snippet easy-mode ordering","description":"Adjust top README install one-liners: first command should NOT use --easy-mode, second should keep it as per user request.","status":"closed","priority":2,"issue_type":"task","assignee":"codex","created_at":"2025-11-23T23:39:39.826785177Z","updated_at":"2025-11-23T23:40:03.624623068Z","closed_at":"2025-11-23T23:40:03.624623068Z"}
{"id":"ultimate_bug_scanner-9wv","title":"Implement auto-update on startup","description":"Automatically check for updates on startup and self-update the 'ubs' binary. Should include a flag/env var to disable this behavior (e.g. UBS_NO_AUTO_UPDATE=1).","status":"closed","priority":2,"issue_type":"feature","assignee":"AI Agent","created_at":"2025-11-19T01:06:39.480847362Z","updated_at":"2025-11-19T01:08:15.393346067Z","closed_at":"2025-11-19T01:08:15.393346067Z"}
{"id":"ultimate_bug_scanner-abc","title":"Audit: random deep dives + bugfixes (round 2)","description":"Deeply investigate core scripts/modules, trace execution flow, and fix any obvious bugs found.","status":"in_progress","priority":2,"issue_type":"task","assignee":"codex-cli","created_at":"2025-12-17T17:41:51.391995-05:00","updated_at":"2025-12-17T17:41:59.320805-05:00","comments":[{"id":3,"issue_id":"ultimate_bug_scanner-abc","author":"jemanuel","text":"Starting audit pass: doing deliberate random deep-dives across core entrypoints + language modules, tracing execution flow and fixing concrete issues. Focus areas this round: (1) ubs meta-runner arg parsing + env-error propagation + tool-cache behavior, (2) install.sh verification + dependency UX, (3) scripts/verify.sh + SHA256SUMS/minisign flow, (4) at least two language modules beyond JS (python/go/rust) for obvious logic/edge bugs, (5) test-suite harness reliability (manifest parsing/expectations). Any new work discovered will be logged as new beads with discovered-from deps.","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-an2","title":"JS manifest cases return zero findings","description":"Running ./ubs --ci --only=js test-suite/buggy (triggered via test-suite/run_manifest.py --case js-core-buggy) now outputs only the meta-runner banner plus a combined summary with Files:0 / Warning:0 / Critical:0. modules/ubs-js.sh invoked directly exits 127 (line 725 BUILTINS command not found), so UBS never emits the expected category text. Need to fix the JS module so manifest cases (js-core-buggy, js-module-buggy, etc.) produce findings again.","status":"closed","priority":2,"issue_type":"bug","assignee":"Codex","created_at":"2025-11-17T03:22:21.071292592Z","updated_at":"2025-11-17T20:59:39.681804339Z","closed_at":"2025-11-17T20:59:39.681804339Z"}
{"id":"ultimate_bug_scanner-ank","title":"Explore and harden ubs-js module","description":"Investigate modules/ubs-js.sh and modules/helpers/type_narrowing_ts.js for potential bugs and improvements.","status":"tombstone","priority":2,"issue_type":"task","assignee":"jemanuel","created_at":"2025-12-17T15:22:44.130218-05:00","updated_at":"2025-12-17T15:43:04.282419-05:00","close_reason":"Completed exploration and hardening of ubs-js module. Fixed false positives in TS type narrowing and React hooks analysis.","deleted_at":"2025-12-17T15:43:04.282419-05:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"ultimate_bug_scanner-aqd","title":"Add edge-case fixture thresholds","description":"Edge-case suites (unicode/timezone/floating-point) need explicit thresholds in manifest to keep regressions visible.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T22:25:58.394936473Z","updated_at":"2025-11-17T20:59:43.263552702Z","closed_at":"2025-11-17T20:59:43.263552702Z"}
{"id":"ultimate_bug_scanner-ast2","title":"Tests: JS module exits with env-error (2) when AST engine missing on TSX","description":"Once we adopt 'fail fast instead of regex fallback' for TS/TSX without ast-grep, add a regression test to ensure this behavior stays stable (correct exit code + message).","notes":"Implemented a deterministic regression for the JS module’s degraded-mode behavior.\n\nWhat changed\n- modules/ubs-js.sh\n  - Added verify_ast_grep_bin() to validate candidate ast-grep binaries (version string + scan -h + JSON stream smoke test).\n  - Added UBS_TEST_FORCE_NO_AST_GREP=1 to force HAS_AST_GREP=0 for test runs.\n  - When TS/TSX/JSX files are present and ast-grep is unavailable, emit a clear environment error + remediation and exit 2 (instead of noisy regex-fallback findings).\n\n- test-suite/run_manifest.py\n  - Added per-case ubs_bin override to run language modules directly.\n  - Added numeric exit_code expectations and allow_unparseable_output for env-error cases.\n  - Added parser for module-style “Summary Statistics:” blocks.\n\n- test-suite/manifest.json\n  - Added js-module-env-error-missing-ast-grep-jsx case (runs modules/ubs-js.sh with UBS_TEST_FORCE_NO_AST_GREP=1 and asserts exit 2 + env-error messaging).\n\nValidation\n- python3 test-suite/run_manifest.py --case js-module-env-error-missing-ast-grep-jsx","status":"closed","priority":2,"issue_type":"task","assignee":"codex-cli","created_at":"2025-12-17T18:36:59.464865-05:00","updated_at":"2025-12-17T23:53:32.931434-05:00","closed_at":"2025-12-17T23:53:32.931434-05:00","close_reason":"Regression test added + passing (env-error exit 2 when TS/TSX/JSX present but ast-grep unavailable).","dependencies":[{"issue_id":"ultimate_bug_scanner-ast2","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:37:04.895957-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-ast2","depends_on_id":"ultimate_bug_scanner-js-ts-degraded-mode-contract","type":"blocks","created_at":"2025-12-17T18:38:14.321911-05:00","created_by":"daemon"}],"comments":[{"id":4,"issue_id":"ultimate_bug_scanner-ast2","author":"jemanuel","text":"Goal: lock in the fail-fast contract for TS/TSX/JSX when no usable ast-grep is available.\n\nWhy: ubs meta-runner now auto-provisions ast-grep, so the only realistic regression risk is (a) users running modules/ubs-js.sh standalone, or (b) a broken/bogus ast-grep earlier in PATH being mistakenly accepted.\n\nPlan:\n1) modules/ubs-js.sh: add a deterministic test hook (UBS_TEST_FORCE_NO_AST_GREP=1) that forces check_ast_grep to fail.\n2) modules/ubs-js.sh: harden check_ast_grep so a PATH ast-grep/sg is only accepted if it is a real, usable ast-grep (capability checks similar to ubs verify_ast_grep_bin).\n3) test-suite/run_manifest.py: extend summary parsing to handle module-style Summary Statistics blocks or allow_unparseable_output for env-error cases.\n4) test-suite/manifest.json: add a regression case that runs modules/ubs-js.sh against a TSX/JSX fixture with UBS_TEST_FORCE_NO_AST_GREP=1 and asserts exit code 2 plus the remediation message.\n\nAcceptance criteria:\n- The new manifest case reliably fails with env error (2) on any dev machine, even if ast-grep is installed.\n- modules/ubs-js.sh does not silently proceed when ast-grep is bogus (it should ignore and then env-error if TSX present).","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-b7e","title":"Type Narrowing Validation","description":"Deliver UBS v5 feature #5: catch unsafe type narrowing (TypeScript-first) by combining tsserver-powered analysis, ast-grep fallbacks, fixtures, docs, and optional cross-language heuristics.","status":"in_progress","priority":1,"issue_type":"epic","assignee":"Codex","created_at":"2025-11-17T21:00:00.495675023Z","updated_at":"2025-11-17T23:01:15.801528574Z"}
{"id":"ultimate_bug_scanner-bc1","title":"Add UBS + MCP Agent Mail integration section to README","description":"Add a short section at the very bottom of README.md explaining how UBS acts as a quality gate for multi-agent workflows coordinated by MCP Agent Mail.","status":"in_progress","priority":3,"issue_type":"task","assignee":"codex","created_at":"2025-11-19T17:40:05.660774006Z","updated_at":"2025-11-22T10:11:09.867829318Z"}
{"id":"ultimate_bug_scanner-blh","title":"Initial repo orientation","description":"Read AGENTS.md, README.md, and explore project layout to prepare for future work.","status":"closed","priority":3,"issue_type":"task","assignee":"codex","created_at":"2025-11-16T23:50:25.062772677Z","updated_at":"2025-11-16T23:54:16.825826453Z","closed_at":"2025-11-16T23:54:16.825826453Z"}
{"id":"ultimate_bug_scanner-bnw","title":"Add MCP Agent Mail section to README","description":"Add a section at the bottom of README.md highlighting synergy with MCP Agent Mail project.","status":"in_progress","priority":3,"issue_type":"task","assignee":"user","created_at":"2025-11-19T17:42:22.08045919Z","updated_at":"2025-11-19T17:42:36.759284206Z"}
{"id":"ultimate_bug_scanner-c8t","title":"Fix installer mktemp template error in easy-mode","description":"curl | bash fails with 'mktemp: too few X's in template ubs-install' and curl output error; occurs during WORKDIR creation in install.sh when first mktemp -d fails and fallback uses -t ubs-install without Xs.","status":"closed","priority":1,"issue_type":"bug","assignee":"Codex","created_at":"2025-11-20T00:43:13.364549431Z","updated_at":"2025-11-20T00:45:18.132818425Z","closed_at":"2025-11-20T00:45:18.132818425Z"}
{"id":"ultimate_bug_scanner-d5z","title":"Add manifest coverage for Go/Rust/C++/Java/Ruby","description":"Once each language module can run reliably, add buggy + clean fixtures under test-suite/\u003clang\u003e/ to manifest.json so run_manifest.py enforces expectations.","notes":"Go buggy/clean manifest cases added with substring and thresholds; need to expand to Rust/C++/Java/Ruby next.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-16T22:25:43.875890525Z","updated_at":"2025-11-17T20:59:41.382931983Z","closed_at":"2025-11-17T20:59:41.382931983Z"}
{"id":"ultimate_bug_scanner-dit","title":"Installer + CLI updates for type narrowing","description":"Add --skip-type-narrowing flag/config, detect tsserver availability in install verification, update README/INSTALL sections, and surface status in diagnostics so users know when the feature is active.","status":"in_progress","priority":2,"issue_type":"task","assignee":"Codex","created_at":"2025-11-17T21:01:12.570085194Z","updated_at":"2025-11-17T21:05:10.987999671Z","dependencies":[{"issue_id":"ultimate_bug_scanner-dit","depends_on_id":"ultimate_bug_scanner-b7e","type":"parent-child","created_at":"2025-11-17T21:01:24.08151651Z","created_by":"ubuntu"}]}
{"id":"ultimate_bug_scanner-dj9","title":"Understand project docs","description":"Read AGENTS.md, README.md, and explore repo structure to build mental model per user request.","status":"closed","priority":4,"issue_type":"chore","assignee":"codex","created_at":"2025-11-22T08:26:36.535339271Z","updated_at":"2025-11-22T08:27:12.396575076Z","closed_at":"2025-11-22T08:27:12.396575076Z"}
{"id":"ultimate_bug_scanner-dmo","title":"Investigate ubs-js file counting bug","description":"Sometimes modules/ubs-js.sh reports 'Files scanned: 0' when scanning directories; trace include/exclude \u0026 ast-grep detection to restore accurate totals.","status":"closed","priority":2,"issue_type":"task","assignee":"codex","created_at":"2025-11-16T22:25:51.690888053Z","updated_at":"2025-11-17T20:59:40.548101825Z","closed_at":"2025-11-17T20:59:40.548101825Z"}
{"id":"ultimate_bug_scanner-docs-js-ts-ast-required","title":"Docs: clarify JS/TS requires AST engine; document degraded-mode + remediation","description":"Once behavior changes land, update README/docs so users understand that JS/TS scanning depends on ast-grep and how UBS behaves when dependencies are missing.","design":"Docs to update:\\n- README: explicitly state that JS/TS scanning is syntax-aware and depends on ast-grep; highlight auto-provisioning behavior if implemented.\\n- Add troubleshooting steps:\\n  - 'ubs doctor' (and 'ubs doctor --fix' if we add tool-cache installation)\\n  - 'command -v ast-grep' / 'ast-grep --version'\\n  - interpreting exit code 2 as environment/dependency error\\n- Installer section: ensure install.sh messaging matches reality (ast-grep required, not optional).\\n\\nWhy:\\n- Users currently see noisy false positives and assume UBS is low-quality; clear docs plus deterministic behavior prevents that.","acceptance_criteria":"- README/docs mention the AST requirement and the env-error behavior (exit code + remediation).\\n- Examples show how to recover when ast-grep is missing.","notes":"Updated README to match the new JS/TS AST-engine contract.\n\nChanges\n- README.md\n  - Installer section: ast-grep is now described as required/ensured for accurate JS/TS scanning (and mentions auto-provisioning).\n  - Manual install section: clarified ast-grep is required for JS/TS (with brew/cargo/npm install options).\n  - CLI exit codes: exit 2 now explicitly covers environment/dependency errors (e.g., missing ast-grep).\n  - Added “Environment errors (exit 2)” section with remediation (`ubs doctor --fix`, manual install, and `ubs --exclude=js`).\n\nRationale\n- Prevents users from misreading dependency failures as “UBS is noisy/low quality” and clarifies how to recover quickly.","status":"closed","priority":2,"issue_type":"task","assignee":"codex-cli","created_at":"2025-12-17T18:37:16.66524-05:00","updated_at":"2025-12-18T00:03:39.0986-05:00","closed_at":"2025-12-18T00:03:39.0986-05:00","close_reason":"README now documents ast-grep requirement, env-error exit 2, and remediation (ubs doctor --fix).","dependencies":[{"issue_id":"ultimate_bug_scanner-docs-js-ts-ast-required","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:37:20.887977-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-docs-js-ts-ast-required","depends_on_id":"ultimate_bug_scanner-js-ts-degraded-mode-contract","type":"blocks","created_at":"2025-12-17T18:38:14.661462-05:00","created_by":"daemon"}],"comments":[{"id":5,"issue_id":"ultimate_bug_scanner-docs-js-ts-ast-required","author":"jemanuel","text":"Docs gotcha to explicitly address\n- README currently frames ast-grep as “optional for advanced AST analysis”, but the JS/TS module correctness depends on it.\n- Once degraded-mode is implemented, docs should state:\n  - ast-grep is required for TS/TSX/JSX scanning\n  - if missing, UBS exits 2 with remediation\n  - install.sh will install it by default (unless opted out)","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-e3j","title":"Implement async error path coverage","description":"Add ast-grep-based async error handling checks across JS/Python/Go/C++/Rust/Java/Ruby, update fixtures + manifest, run UBS manifests.","status":"closed","priority":1,"issue_type":"feature","assignee":"codex","created_at":"2025-11-16T23:36:37.793906753Z","updated_at":"2025-11-17T20:59:38.815805955Z","closed_at":"2025-11-17T20:59:38.815805955Z"}
{"id":"ultimate_bug_scanner-e3m","title":"Installer should auto run doctor --fix on checksum mismatch","description":"When installer detects module checksum issues during post-install doctor, it should rerun ubs doctor --fix automatically without user intervention.","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2025-11-24T00:03:42.710543259Z","updated_at":"2025-11-24T00:05:27.990584369Z","closed_at":"2025-11-24T00:05:27.990584369Z"}
{"id":"ultimate_bug_scanner-egd","title":"swift: fix resource_lifecycle fallback script + failure masking","description":"modules/ubs-swift.sh run_resource_lifecycle_checks has a Python regex fallback (tmp_py) that is currently syntactically broken (indentation errors) and errors are fully suppressed (stderr -\u003e /dev/null, || true). This can silently print a ✓ OK even when checks didn't run. Fix the embedded Python, capture stderr on failure (or at least avoid claiming OK), and keep output truthful.","status":"closed","priority":2,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-18T02:14:03.826478-05:00","updated_at":"2025-12-18T02:16:05.845735-05:00","closed_at":"2025-12-18T02:16:05.845735-05:00","close_reason":"Fix swift resource lifecycle fallback + truthful failure reporting","dependencies":[{"issue_id":"ultimate_bug_scanner-egd","depends_on_id":"ultimate_bug_scanner-4sm","type":"parent-child","created_at":"2025-12-18T02:14:09.811838-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-egd","depends_on_id":"ultimate_bug_scanner-abc","type":"discovered-from","created_at":"2025-12-18T02:14:09.997309-05:00","created_by":"daemon"}],"comments":[{"id":6,"issue_id":"ultimate_bug_scanner-egd","author":"jemanuel","text":"Fixed: repaired Swift resource_lifecycle Python regex fallback (syntax/indentation) and removed failure masking.\\n- stderr is now captured; on failure we emit an info finding instead of claiming ✓ OK\\n- On fallback failure we continue to the grep-based fallback checks\\n\\nValidation: bash -n modules/ubs-swift.sh; ran ./modules/ubs-swift.sh --ci --no-color test-suite/swift/type_narrowing/buggy.","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-f2k","title":"Audit shell modules for cleanup race conditions","description":"Review all ubs-*.sh modules to ensure cleanup traps are set before temporary resources are created, mirroring the fix in install.sh.","status":"closed","priority":2,"issue_type":"task","assignee":"user","created_at":"2025-11-18T19:47:55.169077365Z","updated_at":"2025-11-18T19:49:46.485706214Z","closed_at":"2025-11-18T19:49:46.485706214Z"}
{"id":"ultimate_bug_scanner-f82","title":"Adopt uv-managed Python 3.13 environment","description":"Set up uv + pyproject.toml specifying python=3.13, ensure tooling uses uv-managed venv (likely .venv), update docs/scripts to invoke uv instead of bare python, and migrate existing Python usage accordingly.","status":"closed","priority":1,"issue_type":"task","assignee":"codex","created_at":"2025-11-17T00:50:54.999496574Z","updated_at":"2025-11-17T20:59:37.97731587Z","closed_at":"2025-11-17T20:59:37.97731587Z"}
{"id":"ultimate_bug_scanner-f9m","title":"Check for existing Homebrew bash before installing/upgrading on macOS","description":"On macOS, the install script prompts to install bash if the running shell is \u003c 4.0. It should first check if a valid Homebrew bash (\u003e= 4.0) is already installed. If so, use it without prompting/installing. If not, prompt for installation accurately.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-19T17:18:18.072323105Z","updated_at":"2025-11-19T17:22:37.66355837Z","closed_at":"2025-11-19T17:22:37.66355837Z"}
{"id":"ultimate_bug_scanner-fbq","title":"Runner/Installer: ast-grep version compatibility + PATH validation","description":"Problem:\\n- ubs pins ast-grep 0.40.1 for JS/TS accuracy (tool-cache auto-provision).\\n- install.sh binary fallback currently downloads ast-grep 0.18.0 and adds it to PATH.\\n- ubs preflight currently accepts any PATH ast-grep/sg if '--version' contains 'ast-grep' (no capability check).\\n\\nImpact:\\n- On systems where installer uses binary fallback (no brew/cargo), users can end up with an old ast-grep in PATH. ubs will then prefer PATH and may break or misbehave if that version lacks required flags/output contracts (e.g. --json=stream/metaVariables) even though tool-cache would have provided the correct pinned build.\\n\\nGoal:\\n- Make JS/TS scanning deterministic and reliable: if PATH ast-grep is unusable/outdated, ubs should ignore it and fall back to the verified tool-cache build.\\n- Align install.sh fallback download to the same pinned version (or at least a compatible minimum) so offline/locked-down users still get a working ast-grep at install time.\\n\\nAcceptance criteria:\\n- ubs only uses PATH ast-grep/sg when it passes the same capability checks as doctor (e.g. 'scan -h' and '--json=stream' support as exercised by modules). Otherwise it auto-provisions (or uses) the tool-cache ast-grep 0.40.1.\\n- install.sh binary fallback for ast-grep downloads a compatible version and (ideally) warns if it can’t verify compatibility.\\n- Add/adjust a regression test that simulates a bogus/old 'ast-grep' on PATH and ensures ubs selects tool-cache instead.","status":"closed","priority":1,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-17T22:41:04.752073-05:00","updated_at":"2025-12-17T22:52:18.878297-05:00","closed_at":"2025-12-17T22:52:18.878297-05:00","close_reason":"Fixed ast-grep PATH validation + aligned installer fallback","dependencies":[{"issue_id":"ultimate_bug_scanner-fbq","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T22:41:24.482085-05:00","created_by":"daemon"}],"comments":[{"id":7,"issue_id":"ultimate_bug_scanner-fbq","author":"jemanuel","text":"Implemented PATH validation for ast-grep and aligned installer fallback.\n\nChanges:\n- ubs: find_ast_grep_in_path now iterates PATH entries and only accepts a candidate if it passes verify_ast_grep_bin (scan -h + json=stream smoke test). If the first PATH hit is bogus/old, UBS will skip it.\n- ubs: tool-cache extraction now also runs verify_ast_grep_bin on the extracted binary.\n- install.sh: ast-grep binary fallback updated to version 0.40.1 and new app-\u003ctarget\u003e.zip asset naming; extraction uses unzip or python3 zipfile.\n- test-suite: run_manifest.py gains bin_shims support and stderr substring expectations; manifest adds js-module-buggy-ast-grep-path-shim regression case.","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-fix2","title":"(deleted)","description":"","status":"tombstone","priority":0,"issue_type":"task","created_at":"2025-12-18T02:21:55.934552-05:00","updated_at":"2025-12-18T02:21:55.934552-05:00","dependencies":[{"issue_id":"ultimate_bug_scanner-fix2","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:35:51.192841-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-fix2","depends_on_id":"ultimate_bug_scanner-js-ts-fp-inventory","type":"blocks","created_at":"2025-12-17T18:38:14.827155-05:00","created_by":"daemon"}],"deleted_at":"0001-01-01T00:00:00Z"}
{"id":"ultimate_bug_scanner-fln","title":"Installer smoke test should fail on warnings","description":"Smoke test uses ubs \u003cfile\u003e --fail-on-warning --ci --only=js but options come after the path; ubs ignores flags so exit 0. Move flags before path so known-bug sample fails correctly.","status":"closed","priority":1,"issue_type":"bug","assignee":"codex","created_at":"2025-11-24T00:30:46.757546556Z","updated_at":"2025-11-24T00:31:55.561274754Z","closed_at":"2025-11-24T00:31:55.561274754Z"}
{"id":"ultimate_bug_scanner-fvl","title":"Fix builtins.open detection in Python resource lifecycle helper","description":"The Python resource lifecycle helper does not detect 'from builtins import open' aliases, leading to false negatives. Also, it swallows OSErrors.","status":"closed","priority":1,"issue_type":"bug","assignee":"ubs-agent","created_at":"2025-11-19T01:00:01.296703648Z","updated_at":"2025-11-19T01:03:35.926797378Z","closed_at":"2025-11-19T01:03:35.926797378Z"}
{"id":"ultimate_bug_scanner-glu","title":"Fix Windows installer dependency fallbacks","description":"Windows Git Bash installer fails to install ripgrep/jq/ast-grep due to admin prompts and missing binary fallbacks; smoke test fails.","status":"closed","priority":1,"issue_type":"bug","assignee":"codex","created_at":"2025-11-30T05:46:21.206727531Z","updated_at":"2025-11-30T05:46:38.236049226Z","closed_at":"2025-11-30T05:46:38.236049226Z"}
{"id":"ultimate_bug_scanner-grb","title":"python: show resource_lifecycle_py helper failures","description":"modules/ubs-python.sh currently runs modules/helpers/resource_lifecycle_py.py with stderr redirected to /dev/null, but on failure it prints a finding that says 'See stderr for details' (which is impossible). Fix by capturing stderr on failure and surfacing a short preview in the finding (or otherwise making the messaging truthful).","status":"closed","priority":2,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-18T01:41:00.434034-05:00","updated_at":"2025-12-18T01:42:25.709477-05:00","closed_at":"2025-12-18T01:42:25.709477-05:00","close_reason":"Surface helper stderr on failure","dependencies":[{"issue_id":"ultimate_bug_scanner-grb","depends_on_id":"ultimate_bug_scanner-4sm","type":"parent-child","created_at":"2025-12-18T01:41:05.55261-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-grb","depends_on_id":"ultimate_bug_scanner-abc","type":"discovered-from","created_at":"2025-12-18T01:41:05.702707-05:00","created_by":"daemon"}],"comments":[{"id":8,"issue_id":"ultimate_bug_scanner-grb","author":"jemanuel","text":"Fixed misleading resource lifecycle helper failure handling in modules/ubs-python.sh: helper stderr is now captured to a temp file, and on failure UBS reports the first stderr line (or a manual re-run hint) instead of saying 'See stderr' while discarding it.\n\nValidation: ./modules/ubs-python.sh --ci --no-color --include-ext=py test-suite/python/buggy produced resource lifecycle findings and did not regress.","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-hra","title":"Fix async error test regressions","description":"GH Actions UBS Test Suite failing (js-async-errors-buggy, js-react-hooks-buggy, java-async-errors-buggy) after ast-grep changes. Investigate pattern matching and ensure ast-grep availability.","status":"closed","priority":1,"issue_type":"bug","assignee":"codex","created_at":"2025-11-22T10:16:08.29284169Z","updated_at":"2025-12-29T00:05:20.688150949-05:00","closed_at":"2025-12-17T01:24:44.390963-05:00"}
{"id":"ultimate_bug_scanner-iev","title":"Automate module checksum updates and document auto-update","description":"Create a script to automatically update sha256 hashes in 'ubs' before commits. Also update README/CLI docs to explain the new auto-update feature.","status":"closed","priority":2,"issue_type":"task","assignee":"AI Agent","created_at":"2025-11-19T01:09:36.424781399Z","updated_at":"2025-11-19T01:15:33.586293295Z","closed_at":"2025-11-19T01:15:33.586293295Z"}
{"id":"ultimate_bug_scanner-install-ast-grep-required","title":"Installer: treat ast-grep as required (auto-install by default)","description":"The project depends on ast-grep for accurate JS/TS scanning. Today install.sh can leave users without ast-grep (especially in non-interactive runs), forcing UBS into regex/heuristic fallback and generating false positives. Make ast-grep installation the default, and make skipping it an explicit opt-out.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-17T18:33:40.493369-05:00","updated_at":"2025-12-17T20:57:00.068827-05:00","closed_at":"2025-12-17T20:57:00.068827-05:00","dependencies":[{"issue_id":"ultimate_bug_scanner-install-ast-grep-required","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:33:47.955056-05:00","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-ir4","title":"Instant Confidence Onboarding","description":"Automate post-install confidence: auto-run ubs doctor, summarize results in ~/.config/ubs/session.md, expose viewing command, and ensure diagnostics highlight missing deps.","status":"in_progress","priority":1,"issue_type":"feature","assignee":"Codex","created_at":"2025-11-18T01:28:29.698490745Z","updated_at":"2025-11-18T01:28:33.985742074Z"}
{"id":"ultimate_bug_scanner-iua","title":"Explore and harden ubs-golang module","description":"Investigate modules/ubs-golang.sh and modules/helpers/resource_lifecycle_go.go for potential bugs.","status":"tombstone","priority":2,"issue_type":"task","assignee":"jemanuel","created_at":"2025-12-17T15:47:49.336659-05:00","updated_at":"2025-12-17T16:02:39.645096-05:00","close_reason":"Refactored resource_lifecycle_go.go to support scopes (FuncDecl, BlockStmt, FuncLit, etc.) and handle return statements. Fixed false positives for defer and return.","deleted_at":"2025-12-17T16:02:39.645096-05:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"ultimate_bug_scanner-js-fail-fast-without-ast2","title":"modules/ubs-js.sh: fail fast (env error) instead of regex fallback on TS/TSX","description":"When ast-grep isn't usable, the JS module prints 'regex fallback mode' and continues, which can explode into dozens of false positives on TSX/TypeScript syntax. Change default behavior: if TS/TSX/JSX is present and no AST engine is available, stop and return an explicit environment error.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-17T18:48:38.952478-05:00","updated_at":"2025-12-17T20:25:17.183755-05:00","closed_at":"2025-12-17T20:25:17.183755-05:00","dependencies":[{"issue_id":"ultimate_bug_scanner-js-fail-fast-without-ast2","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:35:02.994061-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-js-fail-fast-without-ast2","depends_on_id":"ultimate_bug_scanner-js-ts-degraded-mode-contract","type":"blocks","created_at":"2025-12-17T18:38:14.321911-05:00","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-js-global-pollution-fp-fix2","title":"JS/TS: fix global-pollution heuristic false positives (JSX props, default params, TS syntax)","description":"The 'Global variable assignments' detector in modules/ubs-js.sh uses a regex-based Python heuristic that can misinterpret valid TS/TSX syntax (multiline JSX props and default parameters) as top-level assignments, producing bogus criticals/warnings.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-17T18:48:38.953151-05:00","updated_at":"2025-12-17T22:03:38.506941-05:00","closed_at":"2025-12-17T22:03:38.506941-05:00","dependencies":[{"issue_id":"ultimate_bug_scanner-js-global-pollution-fp-fix2","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:35:51.192841-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-js-global-pollution-fp-fix2","depends_on_id":"ultimate_bug_scanner-js-ts-fp-inventory","type":"blocks","created_at":"2025-12-17T18:38:14.827155-05:00","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-js-highsev-ast-confirm","title":"JS/TS: AST-confirm high-severity regex findings before reporting","description":"Even with ast-grep installed, some UBS JS checks are regex/heuristic-based and can produce false positives on TS/TSX syntax. For the highest-severity findings (CRITICAL/WARNING), add a lightweight AST confirmation step so we only report matches that correspond to real syntax nodes.","design":"Principle:\\n- Regex remains a fast candidate generator. AST is the validator.\\n\\nInitial scope (target the worst offenders):\\n- Global pollution detector candidates\\n- Any regex patterns known to misfire in TSX (as identified in the FP inventory)\\n\\nImplementation idea:\\n- When ast-grep is available, for each candidate location (file+line), use ast-grep JSON output to verify an appropriate node exists at/near that span (assignment_expression / binary_expression / call_expression, etc.).\\n- Drop candidates that occur in JSX attribute context, type-only syntax, or parameter default lists (these are common FP zones).\\n\\nPerformance:\\n- Keep bounded: only validate up to N candidates per rule, or validate only when candidate count exceeds a threshold, so we don't explode runtime.\\n\\nWhy this preserves coverage:\\n- We keep the same patterns, but stop reporting syntactically-impossible matches.","acceptance_criteria":"- For at least one high-severity rule class that previously produced TSX false positives, UBS output drops the bogus findings while still flagging real occurrences in fixtures.\\n- Runtime impact stays within an acceptable budget (define in implementation: e.g., \u003c10% overhead on medium repos).","notes":"Initial audit:\n- Some CRITICAL/WARNING checks in `modules/ubs-js.sh` still use ripgrep regex counts even when ast-grep is available.\n- This causes:\n  - False positives / miscounts from matches in comments/strings (e.g., `debugger` mentioned in comments).\n  - A real coverage gap: the current typeof check only matches `typeof(\u003cexpr\u003e)` (paren form) and misses the common `typeof x === 'array'` form used in fixtures.\n\nImplementation plan:\n1) Add ast-grep-backed counting + sample output helpers (so high-sev findings show real syntax nodes).\n2) Convert at least these high-sev rules to AST when available:\n   - Direct NaN comparisons (==/===/!=/!== with NaN on either side)\n   - Loose equality (== / != binary expressions)\n   - Invalid typeof comparisons (typeof comparisons to invalid string literals; include both paren + non-paren, and handle yoda form)\n   - debugger statements (debugger statement node)\n3) Add a manifest regression case that ensures invalid typeof comparisons are detected (and not dependent on parenthesized typeof).","status":"closed","priority":2,"issue_type":"feature","assignee":"codex-cli","created_at":"2025-12-17T18:36:05.523839-05:00","updated_at":"2025-12-18T00:59:48.742054-05:00","closed_at":"2025-12-18T00:59:48.742054-05:00","close_reason":"Finished: AST-confirm counts/samples + typeof regression + checksums","dependencies":[{"issue_id":"ultimate_bug_scanner-js-highsev-ast-confirm","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:36:10.037718-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-js-highsev-ast-confirm","depends_on_id":"ultimate_bug_scanner-js-ts-fp-inventory","type":"blocks","created_at":"2025-12-17T18:38:14.997344-05:00","created_by":"daemon"}],"comments":[{"id":9,"issue_id":"ultimate_bug_scanner-js-highsev-ast-confirm","author":"jemanuel","text":"Clarification: what “AST confirm” should look like (to keep it deterministic)\n\nAvoid per-candidate AST invocations when possible.\nPreferred shape:\n- For each high-severity heuristic category, define an ast-grep rule (or small rule pack) that matches the *semantic* pattern.\n- Run ast-grep once per file-set (or once per repo scan) to produce authoritative JSON locations.\n- Treat heuristic matches as “candidates” only; final findings are the intersection with AST matches.\n\nWhy this is better than line-proximity confirmation\n- “file+line” proximity is inherently fuzzy (formatting, minified code, multiline expressions).\n- AST match results include stable ranges (start/end line+col) and node kinds.\n\nPerformance guardrails\n- Gate AST-confirmation behind “candidate explosion” OR “high severity” (CRITICAL-level) so we don’t slow down the whole JS module.\n- Cache ast-grep JSON output per file to avoid repeated scans.\n\nScope guidance\n- Start with categories we know are TSX-sensitive and/or high impact:\n  - global pollution / implicit globals\n  - XSS-ish sinks (innerHTML, document.write)\n  - eval/new Function\n  - suspicious comparisons (=== NaN) if heuristics exist","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-js-module-env-ast-grep-bin2","title":"modules/ubs-js.sh: honor UBS_AST_GREP_BIN for AST engine","description":"To enable ubs-level tool caching (and avoid PATH issues), the JS module should accept an explicit ast-grep binary path via env var and use it preferentially when valid.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T18:48:38.953639-05:00","updated_at":"2025-12-17T20:56:55.523335-05:00","closed_at":"2025-12-17T20:56:55.523335-05:00","dependencies":[{"issue_id":"ultimate_bug_scanner-js-module-env-ast-grep-bin2","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:34:41.433843-05:00","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-js-ts-ast-guarantee","title":"JS/TS: guarantee AST scanning + eliminate TSX regex-fallback false positives","description":"When UBS runs on TS/TSX projects it can fall back to regex/heuristic scanning and produce large numbers of false positives (e.g., multiline JSX attributes and default parameters misread as assignments/comparisons). This epic makes JS/TS scanning syntax-aware by default (ast-grep always available/used) and defines a strict degraded-mode policy so we never spam users with bogus CRITICAL/WARNING counts.","design":"Background:\\n- Real-world report: TypeScript + ESLint + build all pass, but UBS reports dozens of CRITICAL/WARNING that are all false positives caused by regex/heuristic fallback mis-parsing TSX/TypeScript syntax.\\n\\nGoals:\\n- Make AST analysis the default/expected path for JS/TS (esp. TSX).\\n- Ensure ast-grep is reliably available (installer + runtime self-healing).\\n- If AST cannot run, fail fast with a clear 'environment misconfigured' message (no noisy findings).\\n- Keep UBS detection surface area: avoid weakening/turning off checks; instead make them syntax-aware or verified.\\n\\nNon-goals:\\n- Replacing ESLint/tsc (UBS remains a fast bug-pattern scanner).\\n- Over-engineering full semantic type analysis for every rule (use targeted confirmation where it pays off).\\n\\nKey UX principle:\\n- Users should never see 100+ bogus CRITICAL/WARNING because a dependency is missing. Missing AST engine should look like a tooling error, not a code-quality catastrophe.","acceptance_criteria":"- On a TSX project, UBS uses ast-grep-powered scanning by default (no 'regex fallback' spam).\\n- If ast-grep is unavailable/unusable, UBS exits with an explicit environment error and remediation instructions.\\n- New regression tests cover the previously common FP patterns (multiline JSX props, default params) so we never regress.","status":"closed","priority":0,"issue_type":"epic","assignee":"codex-cli","created_at":"2025-12-17T18:32:30.269943-05:00","updated_at":"2025-12-18T18:38:40.540964-05:00","closed_at":"2025-12-18T18:38:40.540964-05:00","close_reason":"Acceptance criteria verified; AST enforcement + env error confirmed","comments":[{"id":10,"issue_id":"ultimate_bug_scanner-js-ts-ast-guarantee","author":"jemanuel","text":"Context / why this epic exists\n- We saw a real-world report: TypeScript + ESLint + build all pass, yet UBS reports dozens of CRITICAL/WARNING that are all false positives.\n- The proximate cause is the JS module running regex/heuristic detectors on TS/TSX/JSX syntax regions where line-based patterns cannot be interpreted reliably (multiline JSX opening tags, default params split across lines, etc.).\n- The deeper product issue is that UBS currently fails *open* (it keeps running) when the AST engine is missing or when a check is implemented as text heuristics even though we have an AST engine available.\n\nCore principles (constraints we’re optimizing for)\n1) Fail closed on correctness: if we cannot run a syntax-aware engine for TS/TSX, we must not emit high-severity findings that we know are untrustworthy.\n2) Don’t reduce detection surface area: the goal is NOT to “turn off checks”; it’s to make checks syntax-aware (AST) or verified (regex -\u003e AST confirm) so we keep catching real bugs while eliminating noise.\n3) Make it self-healing: ast-grep availability should be guaranteed via installer + runtime tool cache, so most users never hit the env-error path.\n4) Make the UX explicit: users should see “AST engine active: …” or “environment misconfigured: …” rather than “59 critical” from bogus parsing.\n\nHigh-level solution shape\nA) Guarantee ast-grep is available\n- install.sh: ast-grep becomes default-installed (especially in --easy-mode and --non-interactive).\n- ubs meta-runner: add verified tool-cache fallback so even “download ubs only” workflows still get ast-grep reliably.\n- modules/ubs-js.sh: accept UBS_AST_GREP_BIN so ubs can inject the verified binary without PATH hacks.\n\nB) Define and enforce a degraded-mode contract\n- Introduce an explicit “environment error” exit code (proposed: 2) used when JS/TS cannot be scanned correctly.\n- Default behavior for TS/TSX/JSX w/o AST: exit 2 with a crisp remediation message (install ast-grep / run installer / ubs doctor --fix).\n- Optional escape hatch (ONLY if we decide it’s worth it): allow heuristic-only scanning behind an explicit opt-in flag/env var, and clearly label results as untrusted.\n\nC) Fix the known false-positive sources without muting real detections\n- For the global-pollution class: prefer an AST-based rule (ideal) or make the heuristic context-aware (JSX-tag / parameter-list state tracking).\n- For “high severity” heuristic checks: keep regex as a *candidate generator* but require AST confirmation before emitting CRITICAL.\n\nHow this avoids reducing real problem detection\n- Today’s false positives aren’t “extra coverage”; they are *invalid signals*. The epic replaces invalid signals with (a) AST-backed detections or (b) explicit environment failure.\n- Where we add gating, it’s gating on correctness (AST confirmation), not gating on “turning off categories”.\n\nAcceptance checkpoints / invariants to keep in mind during implementation\n- A TSX-heavy repo should never produce dozens of CRITICAL/WARNING from fallback parsing.\n- When ast-grep is missing, the run should fail deterministically with remediation (not limp onward).\n- Add regression fixtures for the known FP patterns AND at least one “true-positive” example to ensure we didn’t accidentally neuter the global-pollution detector.","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-js-ts-degraded-mode-contract","title":"Spec: JS/TS degraded-mode policy when AST engine is unavailable","description":"Define the contract for how UBS behaves when JS/TS scanning cannot use a syntax-aware engine (ast-grep or equivalent). The goal is: never emit large bogus CRITICAL/WARNING counts from regex fallback; treat missing AST as an environment error with clear remediation.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T18:33:20.004769-05:00","updated_at":"2025-12-17T20:20:10.129411-05:00","closed_at":"2025-12-17T20:20:10.129411-05:00","dependencies":[{"issue_id":"ultimate_bug_scanner-js-ts-degraded-mode-contract","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:33:25.761284-05:00","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-js-ts-fp-inventory","title":"JS/TS: inventory TS/TSX false positives + map to scanners","description":"Before changing behavior, build a precise map from reported false positives to the exact UBS JS module checks that emitted them (regex/heuristic vs ast-grep). This prevents us from fixing the wrong layer and accidentally reducing real bug coverage.","design":"What to capture:\\n- Minimal TS/TSX snippets that trigger each false positive class (default params, multiline JSX props/attributes, TS type syntax, comparisons inside JSX, generics, etc.).\\n- Which UBS JS checks fired (category + subheader text + grep/AST rule).\\n- Whether the finding came from: ripgrep/grep regex, python heuristic, ast-grep rule pack, or tsserver/type-narrowing helpers.\\n\\nWhy this matters:\\n- Some checks run even when ast-grep is installed; others only run in fallback mode. Fixes must be targeted so we don't mute legitimate detections.\\n\\nDeliverable:\\n- A short writeup attached as comments on this issue with examples + source locations in modules/ubs-js.sh.","acceptance_criteria":"- For each FP cluster, we have a concrete snippet and identify the emitting UBS check (category/subheader) and mechanism (regex/python/ast-grep).\\n- At least one safe mitigation is proposed per cluster (AST gating, better parsing, masking, etc.)","status":"closed","priority":1,"issue_type":"task","assignee":"WhiteStone","created_at":"2025-12-17T18:32:56.616224-05:00","updated_at":"2025-12-17T22:09:45.846144-05:00","closed_at":"2025-12-17T22:09:45.846144-05:00","close_reason":"Documented FP clusters + emitting checks/mitigations","dependencies":[{"issue_id":"ultimate_bug_scanner-js-ts-fp-inventory","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:33:05.903434-05:00","created_by":"daemon"}],"comments":[{"id":11,"issue_id":"ultimate_bug_scanner-js-ts-fp-inventory","author":"jemanuel","text":"FP inventory (based on code inspection + new regressions):\n\nCluster A: Multiline JSX attributes misread as assignments (huge CRITICAL counts)\n- Minimal snippet: JSX multiline props, e.g.:\n  \u003cinput\\n    value={query}\\n    onChange={(e) =\u003e setQuery(e.target.value)}\\n  /\u003e\n- Emitting check: `modules/ubs-js.sh` → Category 13 → subheader \"Global variable pollution\" (~modules/ubs-js.sh:2930).\n- Mechanism: Python heuristic previously used a line-regex `^\\s*IDENT\\s*=` and scanned raw lines, so `value={...}` looked like `value = ...`.\n- Mitigation: switch candidate generation to ast-grep assignment_expression matches (syntax-aware), then filter by declared identifiers; also handle single-file roots (PROJECT_DIR can be a file). Implemented + regression covered by manifest case `js-jsx-multiline-props-no-global-pollution`.\n\nCluster B: Multiline default params misread as assignments (warnings/criticals)\n- Minimal snippet (TS):\n  const f = (\\n    a = 1,\\n    b = 2,\\n  ): number =\u003e a + b;\n- Same emitting check as Cluster A (global pollution) for the same reason (line-regex sees `a = 1,`).\n- Mitigation: same as above; regression covered via `test-suite/js/type_narrowing/clean/safe-narrowing.ts` and existing manifest case `js-type-narrowing-clean`.\n\nCluster C: \"Regex fallback\" mode on TS/TSX/JSX generally (comparisons/generics/etc.)\n- Many JS module checks have grep/regex fallbacks and can match in TSX syntax zones or type-only code; these are inherently noisy without an AST.\n- Mitigation (policy): `modules/ubs-js.sh` now fails closed with exit 2 if scanning includes ts/tsx/jsx files and ast-grep is missing (see ast-grep availability block ~modules/ubs-js.sh:2139). `ubs` treats exit 2 as an environment/dependency error (see env-error aggregator ~ubs:1593+).\n\nHigh-severity regex candidates worth AST-confirming (feeds `ultimate_bug_scanner-js-highsev-ast-confirm`):\n- Category 4 \"Loose equality\" uses grep regex and marks as CRITICAL (~modules/ubs-js.sh:2418).\n- Category 2 \"Incorrect NaN checks\" uses grep and marks as CRITICAL (~modules/ubs-js.sh:2319).\n- Category 4 \"typeof checks with wrong string literals\" can be noisy and marks as CRITICAL (~modules/ubs-js.sh:2437).\n\nNext step: build a concrete TSX sample repo (or add a small TSX fixture) to empirically attribute the original “56 warnings” cluster to a specific subheader, if needed.","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-juh","title":"Ship secure distribution channels (installer integrity, Homebrew, Nix, OCI)","description":"Add signed checksum verification for install.sh, a verify.sh helper, Homebrew tap formula, Nix flake (package + devShell), and minimal OCI image for ubs tooling.","status":"in_progress","priority":1,"issue_type":"feature","assignee":"codex","created_at":"2025-11-21T23:51:52.421599386Z","updated_at":"2025-11-21T23:54:49.158894629Z"}
{"id":"ultimate_bug_scanner-kku","title":"Add CI workflow for full test suite","description":"Set up GitHub Actions job to run ./test-suite/run_all.sh with uv and caching.","status":"closed","priority":2,"issue_type":"task","assignee":"codex","created_at":"2025-11-21T23:48:55.205284464Z","updated_at":"2025-11-22T00:05:01.862667361Z","closed_at":"2025-11-22T00:05:01.862667361Z"}
{"id":"ultimate_bug_scanner-kli","title":"Investigate failing tests after module revisions","description":"Run full test suite, identify failing cases, diagnose whether code or tests at fault, and fix as needed per latest user request.","status":"closed","priority":1,"issue_type":"task","assignee":"Codex","created_at":"2025-11-17T05:29:21.730051388Z","updated_at":"2025-11-17T20:59:36.184290959Z","closed_at":"2025-11-17T20:59:36.184290959Z"}
{"id":"ultimate_bug_scanner-kyx","title":"swift: fix URLSession correlation script crash","description":"modules/ubs-swift.sh run_urlsession_task_correlation embeds a Python helper that is currently syntactically broken (indentation errors + missing defs) and the bash parser references an unset variable (desc=\"\") under set -u. This can crash the Swift scanner. Fix by rewriting the embedded Python to read AG_FILE_INDEX_FILE and correlate URLSession tasks to resume()/cancel(), guard python failures (capture stderr preview), and fix output parsing + 'good' message.","status":"closed","priority":1,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-18T01:55:46.945232-05:00","updated_at":"2025-12-18T02:11:45.105202-05:00","closed_at":"2025-12-18T02:11:45.105202-05:00","close_reason":"Fix URLSession correlation helper + parsing","dependencies":[{"issue_id":"ultimate_bug_scanner-kyx","depends_on_id":"ultimate_bug_scanner-abc","type":"discovered-from","created_at":"2025-12-18T01:55:51.865715-05:00","created_by":"daemon"}],"comments":[{"id":12,"issue_id":"ultimate_bug_scanner-kyx","author":"jemanuel","text":"Fixed: repaired run_urlsession_task_correlation so it no longer crashes under set -Eeuo pipefail.\\n- Replaced broken embedded Python with a working index-driven correlator (reads AG_FILE_INDEX_FILE)\\n- Guarded python execution and surfaces stderr preview on failure\\n- Fixed output parsing to read the description field (no unbound )\\n- If the project has no URLSession task sites, short-circuit with a ✓ OK message (avoid misleading index errors)\\n\\nValidation: bash -n modules/ubs-swift.sh; ran ./modules/ubs-swift.sh --ci --no-color test-suite/swift/type_narrowing/buggy.","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-lg8","title":"Add progress indicators to UBS runner","description":"User reports UBS hangs with no output on large projects. The meta-runner swallows output and waits silently. We need real-time progress updates to identify which scanner is hanging.","status":"closed","priority":2,"issue_type":"task","assignee":"AI Agent","created_at":"2025-11-19T01:03:41.849399868Z","updated_at":"2025-11-19T01:06:05.112717371Z","closed_at":"2025-11-19T01:06:05.112717371Z"}
{"id":"ultimate_bug_scanner-mep","title":"Explore and harden ubs-python module","description":"Investigate modules/ubs-python.sh and modules/helpers/resource_lifecycle_py.py for potential bugs and improvements.","status":"tombstone","priority":2,"issue_type":"task","assignee":"jemanuel","created_at":"2025-12-17T15:43:04.474899-05:00","updated_at":"2025-12-17T15:47:49.334567-05:00","close_reason":"Refactored resource_lifecycle_py.py to support nested scopes (FunctionDef) and properly treat returned/yielded resources as released/transferred.","deleted_at":"2025-12-17T15:47:49.334567-05:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"ultimate_bug_scanner-mgb","title":"Fix uninstall command input handling","description":"The uninstall command fails immediately when run via curl pipe because 'read' attempts to read from the pipe (script content) instead of user input. Need to force input from /dev/tty.","status":"closed","priority":1,"issue_type":"bug","assignee":"cursor_agent","created_at":"2025-11-18T20:04:08.186923984Z","updated_at":"2025-11-19T04:48:14.832374643Z","closed_at":"2025-11-19T04:48:14.832374643Z"}
{"id":"ultimate_bug_scanner-mma","title":"Python lifecycle AST migration","description":"Migrate modules/ubs-python.sh resource heuristics to ast-grep and/or dedicated Python helper so open/with/socket/subprocess analysis is AST-backed","status":"closed","priority":1,"issue_type":"feature","assignee":"Codex","created_at":"2025-11-18T02:28:07.701647161Z","updated_at":"2025-11-18T03:32:54.801192026Z","closed_at":"2025-11-18T03:32:54.801192026Z"}
{"id":"ultimate_bug_scanner-n7o","title":"verify.sh: portable SHA256 + version normalization","description":"scripts/verify.sh currently hard-depends on GNU sha256sum and its --check mode, which breaks on macOS defaults. It also documents '--version vX.Y.Z' but unconditionally prefixes 'v' in the release URL, causing 'vvX.Y.Z' if users include the leading v. Fix by (1) using a portable sha256 helper (sha256sum/shasum/openssl) and direct digest compare, (2) accepting --version with or without leading 'v', (3) failing cleanly if neither curl nor wget is present.","status":"closed","priority":2,"issue_type":"bug","assignee":"codex-cli","created_at":"2025-12-18T01:37:44.59377-05:00","updated_at":"2025-12-18T01:39:51.660005-05:00","closed_at":"2025-12-18T01:39:51.660005-05:00","close_reason":"Fixed verify.sh portability + version normalization","dependencies":[{"issue_id":"ultimate_bug_scanner-n7o","depends_on_id":"ultimate_bug_scanner-juh","type":"parent-child","created_at":"2025-12-18T01:38:06.157545-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-n7o","depends_on_id":"ultimate_bug_scanner-abc","type":"discovered-from","created_at":"2025-12-18T01:38:06.30224-05:00","created_by":"daemon"}],"comments":[{"id":13,"issue_id":"ultimate_bug_scanner-n7o","author":"jemanuel","text":"Implemented: scripts/verify.sh now (1) normalizes --version with or without leading 'v', (2) uses portable SHA256 computation (sha256sum/shasum/openssl) and direct digest compare instead of GNU sha256sum --check, and (3) fails early with a clear message if neither curl nor wget is available.\n\nValidation: bash -n scripts/verify.sh; verified --help output. Did NOT execute installer end-to-end (script execs install.sh).","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-ny5","title":"Expand non-JS manifest coverage","description":"User asked to enhance testing infrastructure by fleshing out fixtures and manifest coverage for languages other than JS.","status":"closed","priority":2,"issue_type":"task","assignee":"codex","created_at":"2025-11-16T23:56:32.047053785Z","updated_at":"2025-11-17T01:07:12.329611278Z","closed_at":"2025-11-17T01:07:12.329611278Z"}
{"id":"ultimate_bug_scanner-o3e","title":"Release follow-ups: validate pipelines post-push","description":"After pushing to origin, run release.yml on a tag, verify GHCR cosign signatures/attestations, test Homebrew formula from release artifacts, and publish minisign public key in README once key is available.","notes":"Added vault storage for minisign artifacts at secret/minisign/ubs-v4_6_5 (binary, tar, pub key, notes); Vault reconfigured for local http listener with backup at /etc/vault.d/vault.hcl.backup_20251122, restarted, unsealed, stored, then resealed. Outstanding: Homebrew install/audit not run on this host; external TLS listener still disabled pending certs.","status":"in_progress","priority":3,"issue_type":"task","assignee":"codex","created_at":"2025-11-22T00:39:15.015862201Z","updated_at":"2025-11-22T03:53:24.642577068Z"}
{"id":"ultimate_bug_scanner-o3l","title":"Wire manifest runner into CI","description":"Add pipeline step that runs test-suite/run_manifest.py so UBS regressions fail builds once non-JS modules are ready.","status":"closed","priority":2,"issue_type":"task","assignee":"codex","created_at":"2025-11-16T22:26:02.460643467Z","updated_at":"2025-11-17T03:17:28.139430632Z","closed_at":"2025-11-17T03:17:28.139430632Z"}
{"id":"ultimate_bug_scanner-ra0","title":"Audit Rust module and helper","description":"Deep dive into modules/ubs-rust.sh and modules/helpers/type_narrowing_rust.py to find logic errors, race conditions, or copy-paste bugs.","status":"closed","priority":2,"issue_type":"task","assignee":"cursor_agent","created_at":"2025-11-19T01:41:26.755859262Z","updated_at":"2025-12-29T00:05:20.689041725-05:00","closed_at":"2025-12-17T01:25:33.784448-05:00"}
{"id":"ultimate_bug_scanner-rj2","title":"Sync beads and push commits","description":"Integrate local commits with origin, ensure Beads JSONL is in sync, and push. Also resolve stray Beads migration artifact per user guidance.","status":"closed","priority":2,"issue_type":"chore","assignee":"codex","created_at":"2025-12-18T19:13:38.414213-05:00","updated_at":"2025-12-18T19:18:42.342671-05:00","closed_at":"2025-12-18T19:18:42.342671-05:00","close_reason":"Finished: synced Beads, rebased on origin, updated checksums, and ready to push."}
{"id":"ultimate_bug_scanner-stk","title":"TypeScript tsserver narrowing analyzer","description":"Implement modules/ubs-js-types.sh that shells out to tsserver to inspect control-flow narrowing: collect guards/expressions, query inferred types after guards, and emit UBS findings when values remain nullable/incompatible. Wire into modules/ubs-js.sh with severity mapping + skip flag plumbing.","notes":"Added modules/helpers/type_narrowing_ts.js and run_type_narrowing_checks in ubs-js.sh; analyzer runs via Node+TypeScript with fallback heuristics.","status":"in_progress","priority":1,"issue_type":"feature","assignee":"Codex","created_at":"2025-11-17T21:00:09.420223344Z","updated_at":"2025-11-17T21:10:34.786759578Z","dependencies":[{"issue_id":"ultimate_bug_scanner-stk","depends_on_id":"ultimate_bug_scanner-b7e","type":"parent-child","created_at":"2025-11-17T21:00:33.725196173Z","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-tests-js-env-error-no-ast2","title":"Tests: JS module exits with env-error (2) when AST engine missing on TSX","description":"Once we adopt 'fail fast instead of regex fallback' for TS/TSX without ast-grep, add a regression test to ensure this behavior stays stable (correct exit code + message).","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T18:36:59.464865-05:00","updated_at":"2025-12-17T23:05:58.452247-05:00","closed_at":"2025-12-17T23:05:58.452247-05:00","dependencies":[{"issue_id":"ultimate_bug_scanner-tests-js-env-error-no-ast2","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:37:04.895957-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-tests-js-env-error-no-ast2","depends_on_id":"ultimate_bug_scanner-js-fail-fast-without-ast2","type":"blocks","created_at":"2025-12-17T18:38:15.845986-05:00","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-tests-jsx-multiline-props","title":"Tests: JSX multiline props should not trigger global-pollution findings","description":"Add/adjust test fixtures so multiline JSX attribute blocks (common in real TSX/React code) do not get misinterpreted as assignments by regex/heuristic checks.","design":"Plan:\\n- Update an existing React fixture (prefer modifying, not adding new files): test-suite/frameworks/react/clean-component.jsx.\\n- Add a representative multiline JSX opening tag with attributes split across lines.\\n- Ensure UBS JS module does NOT report 'Global variable assignments' for the attribute lines.\\n- Update manifest expectations/artifacts as needed so CI enforces this regression permanently.","acceptance_criteria":"- The updated fixture is scanned by the existing test suite and no global-pollution findings are emitted for the multiline JSX attributes.\\n- The test suite fails if this regression returns.","status":"closed","priority":1,"issue_type":"task","assignee":"codex-cli","created_at":"2025-12-17T18:36:21.221256-05:00","updated_at":"2025-12-17T22:04:18.072983-05:00","closed_at":"2025-12-17T22:04:18.072983-05:00","close_reason":"Covered by manifest case js-jsx-multiline-props-no-global-pollution","dependencies":[{"issue_id":"ultimate_bug_scanner-tests-jsx-multiline-props","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:36:28.548766-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-tests-jsx-multiline-props","depends_on_id":"ultimate_bug_scanner-fix2","type":"blocks","created_at":"2025-12-17T18:38:15.512267-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-tests-jsx-multiline-props","depends_on_id":"ultimate_bug_scanner-js-global-pollution-fp-fix2","type":"blocks","created_at":"2025-12-17T18:38:15.512267-05:00","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-tests-ts-default-params","title":"Tests: TS multiline default params should not trigger global-pollution findings","description":"Add/adjust TypeScript fixtures so multiline function parameter defaults (common formatting) do not get misclassified as assignments by global-pollution or comparison regex heuristics.","design":"Plan:\\n- Modify existing TS fixture (prefer modifying, not adding): test-suite/js/type_narrowing/clean/safe-narrowing.ts.\\n- Add a representative multi-line function signature with default params on their own lines.\\n- Ensure UBS does not report global-pollution findings for those lines.\\n- Update expected artifacts/manifest counts accordingly.","acceptance_criteria":"- The updated TS fixture is scanned by the test suite and emits no spurious global-pollution findings.\\n- Regression is enforced in CI.","status":"closed","priority":1,"issue_type":"task","assignee":"codex-cli","created_at":"2025-12-17T18:36:36.964514-05:00","updated_at":"2025-12-17T22:04:18.645865-05:00","closed_at":"2025-12-17T22:04:18.645865-05:00","close_reason":"Added multiline default params regression in safe-narrowing.ts; js-type-narrowing-clean remains warning=0","dependencies":[{"issue_id":"ultimate_bug_scanner-tests-ts-default-params","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:36:42.996787-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-tests-ts-default-params","depends_on_id":"ultimate_bug_scanner-fix2","type":"blocks","created_at":"2025-12-17T18:38:15.678641-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-tests-ts-default-params","depends_on_id":"ultimate_bug_scanner-js-global-pollution-fp-fix2","type":"blocks","created_at":"2025-12-17T18:38:15.678641-05:00","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-tfv","title":"Review and improve Rust type narrowing helper","description":"Deeply investigate modules/helpers/type_narrowing_rust.py for bugs, logic errors, and compliance with best practices. Verify integration with ubs-rust.sh.","status":"closed","priority":2,"issue_type":"task","assignee":"AI Agent","created_at":"2025-11-19T01:37:37.016437175Z","updated_at":"2025-12-29T00:05:20.68984148-05:00","closed_at":"2025-12-17T01:25:33.926688-05:00"}
{"id":"ultimate_bug_scanner-ubs-doctor-ast-grep","title":"ubs doctor: verify ast-grep availability (and fix if tool cache exists)","description":"Add explicit ast-grep diagnostics to 'ubs doctor' so users can quickly understand whether JS/TS scanning will be accurate. Optionally support --fix to download ast-grep into the tool cache when missing.","design":"Current gap:\\n- 'ubs doctor' verifies module checksums but does not validate external dependencies like ast-grep. Users can end up in regex fallback mode without noticing until they see noisy findings.\\n\\nProposed doctor checks:\\n- Detect ast-grep engine availability in priority order:\\n  1) user-provided UBS_AST_GREP_BIN (if we add it)\\n  2) ast-grep/sg in PATH\\n  3) tool-cache ast-grep (if implemented)\\n- Verify it actually works:\\n  - '\u003ccmd\u003e --version' contains 'ast-grep'\\n  - '\u003ccmd\u003e scan -h' succeeds (ensures rule-pack mode available)\\n\\nIf --fix is requested:\\n- If tool-cache auto-provisioning is implemented, download/refresh ast-grep and re-verify.\\n\\nUX:\\n- The doctor output should include the resolved command and a clear PASS/FAIL for JS/TS AST readiness.","acceptance_criteria":"- 'ubs doctor' reports a clear ast-grep readiness line and the resolved binary path/cmd.\\n- If --fix is supported, 'ubs doctor --fix' installs/refreshes ast-grep and re-checks successfully.","status":"closed","priority":2,"issue_type":"feature","assignee":"WhiteStone","created_at":"2025-12-17T18:37:38.377168-05:00","updated_at":"2025-12-17T22:25:31.634003-05:00","closed_at":"2025-12-17T22:25:31.634003-05:00","close_reason":"Doctor now reports/provisions ast-grep readiness","dependencies":[{"issue_id":"ultimate_bug_scanner-ubs-doctor-ast-grep","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:37:44.464515-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-ubs-doctor-ast-grep","depends_on_id":"ultimate_bug_scanner-ubs-tool-cache-ast-grep","type":"blocks","created_at":"2025-12-17T18:38:16.017115-05:00","created_by":"daemon"}],"comments":[{"id":14,"issue_id":"ultimate_bug_scanner-ubs-doctor-ast-grep","author":"jemanuel","text":"Doctor UX suggestion\n- Add a dedicated “JS/TS AST readiness” section that prints:\n  - resolved engine (PATH vs UBS_AST_GREP_BIN vs tool-cache)\n  - version\n  - whether TSX parsing works (optionally run a tiny parse probe)\n- If missing/unusable, doctor should exit non-zero and suggest:\n  - install.sh (interactive)\n  - ubs --update / ubs doctor --fix (non-interactive)","created_at":"2025-12-29T05:05:20Z"},{"id":15,"issue_id":"ultimate_bug_scanner-ubs-doctor-ast-grep","author":"jemanuel","text":"Implemented ast-grep readiness checks in `ubs doctor`.\n\n- `ubs doctor` now reports tool cache path + ast-grep status (env/PATH/tool-cache) and verifies `--version` + `scan -h`.\n- `ubs doctor --fix` will provision ast-grep via the verified tool cache when missing (reuses the same pin + SHA256 verification logic used for JS scans).\n\nManual validation:\n- `./ubs doctor` shows ast-grep ready (path) on this machine.\n- `./ubs doctor --fix` remains stable.","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-ubs-env-error-exitcode","title":"ubs: standardize exit code 2 as 'environment error' and surface it nicely","description":"If language modules adopt exit code 2 for dependency/environment failures (e.g., JS module refusing TSX fallback without ast-grep), the ubs meta-runner should recognize and report it distinctly from 'findings' failures.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T18:35:15.590585-05:00","updated_at":"2025-12-17T20:56:51.267131-05:00","closed_at":"2025-12-17T20:56:51.267131-05:00","dependencies":[{"issue_id":"ultimate_bug_scanner-ubs-env-error-exitcode","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:35:22.477435-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-ubs-env-error-exitcode","depends_on_id":"ultimate_bug_scanner-js-ts-degraded-mode-contract","type":"blocks","created_at":"2025-12-17T18:38:14.490056-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-ubs-env-error-exitcode","depends_on_id":"ultimate_bug_scanner-js-fail-fast-without-ast2","type":"blocks","created_at":"2025-12-17T18:38:15.340975-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-ubs-env-error-exitcode","depends_on_id":"ultimate_bug_scanner-ast2","type":"blocks","created_at":"2025-12-17T18:38:15.340975-05:00","created_by":"daemon"}]}
{"id":"ultimate_bug_scanner-ubs-tool-cache-ast-grep","title":"ubs: auto-provision ast-grep via verified tool cache","description":"Users may run the standalone ubs script without install.sh (e.g., CI curl-download). To prevent JS/TS runs from silently degrading into regex/heuristic mode, teach the ubs meta-runner to download a pinned ast-grep release into a local tool cache and verify it before use.","design":"Approach\n- Add an internal tool cache directory (default: ${XDG_DATA_HOME:-$HOME/.local/share}/ubs/tools).\n- Detect platform+arch and select a pinned ast-grep release asset.\n- Embed expected SHA256 for each supported asset in `ubs` (similar to MODULE_CHECKSUMS for modules).\n- Download only when missing or checksum mismatch; verify before executing.\n- Export an env var (e.g., UBS_AST_GREP_BIN=/path/to/ast-grep) so language modules can use it without relying on PATH mutations.\n\nWhy ubs-level vs install.sh-level\n- install.sh is great for interactive onboarding, but CI and “download ubs only” workflows are common.\n- This keeps the JS/TS pipeline self-contained and makes failures deterministic.\n\nConstraints / safety\n- Fail closed if verification fails.\n- Never overwrite a user-installed ast-grep; prefer it if present and usable.\n- Keep output explicit: print which ast-grep binary is used (PATH vs cached) + version.\n\nNotes\n- This design deliberately scopes to ast-grep first; later we can extend to other deps (jq/rg/typos) if/when we want.\n- If you see “/ubs/tools” referenced elsewhere: that was an accidental path expansion during a previous shell command; treat the intended default as ${XDG_DATA_HOME:-$HOME/.local/share}/ubs/tools.","acceptance_criteria":"- On a machine with no ast-grep, running 'ubs --only=js \u003crepo\u003e' results in ast-grep being downloaded into the tool cache and used.\\n- If download or checksum verification fails, ubs exits with an explicit environment error (no bogus findings).\\n- A user-installed ast-grep in PATH continues to take precedence if it works.","status":"closed","priority":1,"issue_type":"feature","assignee":"WhiteStone","created_at":"2025-12-17T18:34:02.829276-05:00","updated_at":"2025-12-17T22:20:21.269809-05:00","closed_at":"2025-12-17T22:20:21.269809-05:00","close_reason":"Tool-cache auto-provisioning implemented (pinned + verified)","dependencies":[{"issue_id":"ultimate_bug_scanner-ubs-tool-cache-ast-grep","depends_on_id":"ultimate_bug_scanner-js-ts-ast-guarantee","type":"parent-child","created_at":"2025-12-17T18:34:09.274214-05:00","created_by":"daemon"},{"issue_id":"ultimate_bug_scanner-ubs-tool-cache-ast-grep","depends_on_id":"ultimate_bug_scanner-js-module-env-ast-grep-bin2","type":"blocks","created_at":"2025-12-17T18:38:15.169105-05:00","created_by":"daemon"}],"comments":[{"id":16,"issue_id":"ultimate_bug_scanner-ubs-tool-cache-ast-grep","author":"jemanuel","text":"Implemented ast-grep tool-cache auto-provisioning in `ubs`.\n\nBehavior:\n- If `ast-grep` (or `sg` verified as ast-grep) is available in PATH, UBS uses it and prints which binary is used.\n- Otherwise, when JS scanning is enabled, UBS downloads a pinned ast-grep release asset into `${UBS_TOOLS_DIR:-${XDG_DATA_HOME:-$HOME/.local/share}/ubs/tools}` after verifying a baked-in SHA256, extracts `ast-grep` from the zip, and exports `UBS_AST_GREP_BIN` so modules can use it.\n- If download/verification/extraction prerequisites are missing or verification fails, UBS exits with an explicit environment error (exit 2) and emits a small JSON object for `--format=json/jsonl`.\n\nPin:\n- ast-grep v0.40.1 assets + SHA256 embedded for macOS (arm64/x86_64), Linux (arm64/x86_64), Windows (x86_64).\n\nManual validation:\n- Simulated no-ast-grep PATH while keeping Bash 5; UBS downloaded to a temp tools dir and ran successfully.","created_at":"2025-12-29T05:05:20Z"}]}
{"id":"ultimate_bug_scanner-un4","title":"Type narrowing heuristics fallback","description":"When tsserver isn't available, enforce structural heuristics via ast-grep (null guards, Array.isArray, discriminated unions). Add YAML rules + shell glue so scans still warn. Ensure rules suppress obvious false positives.","notes":"Fallback heuristics implemented inside type_narrowing_ts.js (text-based scan when TypeScript module missing) and integrated into ubs-js run_type_narrowing_checks.","status":"in_progress","priority":2,"issue_type":"task","assignee":"Codex","created_at":"2025-11-17T21:00:41.596109175Z","updated_at":"2025-11-17T21:10:49.619593442Z","dependencies":[{"issue_id":"ultimate_bug_scanner-un4","depends_on_id":"ultimate_bug_scanner-b7e","type":"parent-child","created_at":"2025-11-17T21:00:48.063519108Z","created_by":"ubuntu"}]}
{"id":"ultimate_bug_scanner-w9h","title":"Study project structure and documentation","description":"Analyze README, AGENTS.md, code structure, and entry points to understand UBS architecture.","status":"in_progress","priority":1,"issue_type":"task","assignee":"senior_engineer","created_at":"2025-11-19T18:07:15.371121236Z","updated_at":"2025-11-19T18:07:29.496047894Z"}
{"id":"ultimate_bug_scanner-wha","title":"Fix missing helpers in distributed modules","description":"The ubs meta-runner lazily downloads ubs-*.sh modules but does not appear to download the modules/helpers/ directory. This causes modules like ubs-golang.sh to fail when they try to invoke helpers/resource_lifecycle_go.go. Modules should likely embed their helpers or the distribution mechanism needs to handle directory downloads.","status":"tombstone","priority":1,"issue_type":"bug","assignee":"jemanuel","created_at":"2025-12-17T16:02:39.646384-05:00","updated_at":"2025-12-17T16:37:38.915559-05:00","close_reason":"Embedded helper scripts into ubs-golang.sh, ubs-python.sh, ubs-js.sh, and ubs-rust.sh. This eliminates the dependency on distributing the 'modules/helpers/' directory for lazy downloads.","deleted_at":"2025-12-17T16:37:38.915559-05:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"bug"}
{"id":"ultimate_bug_scanner-xju","title":"Fix Go resource lifecycle analysis bugs","description":"1. Fix handleAssign to check all RHS elements (fixes multi-assignment leaks). 2. Add tracking for os.Create, os.CreateTemp, and net.Listen.","status":"closed","priority":2,"issue_type":"bug","assignee":"AI Agent","created_at":"2025-11-19T05:16:58.623755229Z","updated_at":"2025-11-19T05:20:30.961868532Z","closed_at":"2025-11-19T05:20:30.961868532Z"}
{"id":"ultimate_bug_scanner-xkw","title":"Explore and harden ubs-rust module","description":"Investigate modules/ubs-rust.sh and modules/helpers/type_narrowing_rust.py for potential bugs and improvements.","status":"tombstone","priority":2,"issue_type":"task","assignee":"jemanuel","created_at":"2025-12-17T16:06:27.200094-05:00","updated_at":"2025-12-17T16:09:22.967959-05:00","close_reason":"Verified Rust type narrowing analysis. It correctly handles reassignment/shadowing due to how it limits the search region using assignment detection logic. No changes needed.","deleted_at":"2025-12-17T16:09:22.967959-05:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"task"}
{"id":"ultimate_bug_scanner-xl0","title":"Exploratory audit: map architecture + fix obvious bugs","description":"Deep-dive into UBS runner/modules/install/test-suite to understand execution flows, then fix any obvious bugs or foot-guns discovered.","status":"tombstone","priority":2,"issue_type":"chore","assignee":"gpt-5.2","created_at":"2025-12-17T16:37:56.359102-05:00","updated_at":"2025-12-17T17:41:32.104576-05:00","close_reason":"Finished exploratory audit + fixes","deleted_at":"2025-12-17T17:41:32.104576-05:00","deleted_by":"git-history-backfill","delete_reason":"recovered from git history (pruned from manifest)","original_type":"chore"}
{"id":"ultimate_bug_scanner-y4o","title":"Study README and AGENTS overview","description":"User requested thorough review of README.md and AGENTS.md to understand project context before coding.","status":"in_progress","priority":2,"issue_type":"task","assignee":"gpt-5.1-codex","created_at":"2025-11-19T18:13:54.997247456Z","updated_at":"2025-11-19T18:14:09.41332942Z"}
{"id":"ultimate_bug_scanner-yyn","title":"Explore and understand Ultimate Bug Scanner codebase","description":"Read documentation and explore project structure to understand architecture and workflows.","status":"closed","priority":1,"issue_type":"task","assignee":"user","created_at":"2025-11-18T19:19:30.677037271Z","updated_at":"2025-11-18T19:20:03.407259015Z","closed_at":"2025-11-18T19:20:03.407259015Z"}
{"id":"ultimate_bug_scanner-z0x","title":"Fix UBS installer issues (checksums \u0026 branch)","description":"Diagnosed issues with installer output. ubs script has stale checksums and points to main instead of master, causing module verification failures and smoke test failure.","status":"closed","priority":1,"issue_type":"bug","assignee":"user","created_at":"2025-11-18T20:06:25.560719131Z","updated_at":"2025-11-18T20:07:55.221444106Z","closed_at":"2025-11-18T20:07:55.221444106Z"}
